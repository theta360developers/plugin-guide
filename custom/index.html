



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="RICOH THETA development for plug-ins and 360 applications include AR and VR applications">
      
      
        <link rel="canonical" href="http://theta360.guide/plugin-guide/custom/">
      
      
        <meta name="author" content="Craig Oda and Jesse Casman">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.2.1">
    
    
      
        <title>Custom Development Tutorial - THETA V Plugin Development Community Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ac64251e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    
      <body data-md-color-primary="light-green" data-md-color-accent="lime">
    
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://theta360.guide/plugin-guide/" title="THETA V Plugin Development Community Guide" class="md-header-nav__button md-logo">
          
            <img src="../assets/images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                THETA V Plugin Development Community Guide
              </span>
              <span class="md-header-nav__topic">
                Custom Development Tutorial
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/theta360developers/plugin-guide/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../assets/images/logo.png" width="24" height="24">
      
    </span>
    THETA V Plugin Development Community Guide
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/theta360developers/plugin-guide/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../use/" title="Plugin Use" class="md-nav__link">
      Plugin Use
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../vysor/" title="Using Vysor" class="md-nav__link">
      Using Vysor
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Custom Development Tutorial
      </label>
    
    <a href="./" title="Custom Development Tutorial" class="md-nav__link md-nav__link--active">
      Custom Development Tutorial
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-control-camera-leds" title="1 Control Camera LEDs" class="md-nav__link">
    1 Control Camera LEDs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-first-steps-with-pluginlibrary" title="1.1 First steps with pluginlibrary" class="md-nav__link">
    1.1 First steps with pluginlibrary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-identify-led-colors" title="1.2 Identify LED Colors" class="md-nav__link">
    1.2 Identify LED Colors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-identify-camera-led-targets" title="1.3 Identify Camera LED Targets" class="md-nav__link">
    1.3 Identify Camera LED Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-review-led-example-in-sdk" title="1.4 Review LED Example in SDK." class="md-nav__link">
    1.4 Review LED Example in SDK.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-change-led-color-and-blink-rate" title="1.5 Change LED color and blink rate" class="md-nav__link">
    1.5 Change LED color and blink rate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-save-changes" title="1.6 Save changes" class="md-nav__link">
    1.6 Save changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-build-apk" title="1.7 Build apk" class="md-nav__link">
    1.7 Build apk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-identify-location-of-apk" title="1.8 Identify location of apk" class="md-nav__link">
    1.8 Identify location of apk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-check-installation-setup" title="1.9 Check installation setup" class="md-nav__link">
    1.9 Check installation setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-cd-into-apk-directory" title="1.10 cd into apk directory" class="md-nav__link">
    1.10 cd into apk directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-use-adb-to-install-the-apk-into-your-camera" title="1.11 Use adb to install the apk into your camera" class="md-nav__link">
    1.11 Use adb to install the apk into your camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-reboot-camera" title="1.12 Reboot camera" class="md-nav__link">
    1.12 Reboot camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-put-camera-into-plug-in-mode" title="1.13 Put camera into plug-in mode" class="md-nav__link">
    1.13 Put camera into plug-in mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-verify-led-is-blinking" title="1.14 Verify LED is blinking" class="md-nav__link">
    1.14 Verify LED is blinking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-troubleshooting" title="1.15 Troubleshooting" class="md-nav__link">
    1.15 Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-adb-install-r-app-debugapk-hangs" title="Problem: adb install -r app-debug.apk hangs" class="md-nav__link">
    Problem: adb install -r app-debug.apk hangs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-install-succeeds-but-nothing-happens" title="Problem: Install succeeds, but nothing happens" class="md-nav__link">
    Problem: Install succeeds, but nothing happens
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-control-led-target" title="2 Control LED Target" class="md-nav__link">
    2 Control LED Target
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-edit-mainactivity-in-android-studio" title="2.1 Edit MainActivity in Android Studio" class="md-nav__link">
    2.1 Edit MainActivity in Android Studio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-build-install-reboot" title="2.2 Build, Install, Reboot" class="md-nav__link">
    2.2 Build, Install, Reboot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-test" title="2.3 Test" class="md-nav__link">
    2.3 Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-control-camera-buttons" title="3 Control Camera Buttons" class="md-nav__link">
    3 Control Camera Buttons
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-inspect-pluginlibrary" title="3.1 Inspect pluginlibrary" class="md-nav__link">
    3.1 Inspect pluginlibrary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-locate-buttons-on-camera" title="3.2 Locate buttons on camera" class="md-nav__link">
    3.2 Locate buttons on camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-open-mainactivity" title="3.3 Open MainActivity" class="md-nav__link">
    3.3 Open MainActivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-map-takepicture-to-middle-side-button" title="3.4 Map takePicture to Middle Side Button" class="md-nav__link">
    3.4 Map takePicture to Middle Side Button
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-build-install-test" title="3.5 Build, install, test" class="md-nav__link">
    3.5 Build, install, test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-celebration-and-next-steps" title="3.6 Celebration and next steps" class="md-nav__link">
    3.6 Celebration and next steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../customtips/" title="Custom Development Tips" class="md-nav__link">
      Custom Development Tips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Plugin Configuration" class="md-nav__link">
      Plugin Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workflow/" title="Workflow Tips" class="md-nav__link">
      Workflow Tips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshoot/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hardware/" title="Camera Hardware" class="md-nav__link">
      Camera Hardware
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../fun/" title="Fun Tests" class="md-nav__link">
      Fun Tests
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../concept/" title="Concept Ideas" class="md-nav__link">
      Concept Ideas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-control-camera-leds" title="1 Control Camera LEDs" class="md-nav__link">
    1 Control Camera LEDs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-first-steps-with-pluginlibrary" title="1.1 First steps with pluginlibrary" class="md-nav__link">
    1.1 First steps with pluginlibrary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-identify-led-colors" title="1.2 Identify LED Colors" class="md-nav__link">
    1.2 Identify LED Colors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-identify-camera-led-targets" title="1.3 Identify Camera LED Targets" class="md-nav__link">
    1.3 Identify Camera LED Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-review-led-example-in-sdk" title="1.4 Review LED Example in SDK." class="md-nav__link">
    1.4 Review LED Example in SDK.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-change-led-color-and-blink-rate" title="1.5 Change LED color and blink rate" class="md-nav__link">
    1.5 Change LED color and blink rate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-save-changes" title="1.6 Save changes" class="md-nav__link">
    1.6 Save changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-build-apk" title="1.7 Build apk" class="md-nav__link">
    1.7 Build apk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-identify-location-of-apk" title="1.8 Identify location of apk" class="md-nav__link">
    1.8 Identify location of apk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-check-installation-setup" title="1.9 Check installation setup" class="md-nav__link">
    1.9 Check installation setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-cd-into-apk-directory" title="1.10 cd into apk directory" class="md-nav__link">
    1.10 cd into apk directory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-use-adb-to-install-the-apk-into-your-camera" title="1.11 Use adb to install the apk into your camera" class="md-nav__link">
    1.11 Use adb to install the apk into your camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-reboot-camera" title="1.12 Reboot camera" class="md-nav__link">
    1.12 Reboot camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-put-camera-into-plug-in-mode" title="1.13 Put camera into plug-in mode" class="md-nav__link">
    1.13 Put camera into plug-in mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-verify-led-is-blinking" title="1.14 Verify LED is blinking" class="md-nav__link">
    1.14 Verify LED is blinking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-troubleshooting" title="1.15 Troubleshooting" class="md-nav__link">
    1.15 Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem-adb-install-r-app-debugapk-hangs" title="Problem: adb install -r app-debug.apk hangs" class="md-nav__link">
    Problem: adb install -r app-debug.apk hangs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#problem-install-succeeds-but-nothing-happens" title="Problem: Install succeeds, but nothing happens" class="md-nav__link">
    Problem: Install succeeds, but nothing happens
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-control-led-target" title="2 Control LED Target" class="md-nav__link">
    2 Control LED Target
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-edit-mainactivity-in-android-studio" title="2.1 Edit MainActivity in Android Studio" class="md-nav__link">
    2.1 Edit MainActivity in Android Studio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-build-install-reboot" title="2.2 Build, Install, Reboot" class="md-nav__link">
    2.2 Build, Install, Reboot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-test" title="2.3 Test" class="md-nav__link">
    2.3 Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-control-camera-buttons" title="3 Control Camera Buttons" class="md-nav__link">
    3 Control Camera Buttons
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-inspect-pluginlibrary" title="3.1 Inspect pluginlibrary" class="md-nav__link">
    3.1 Inspect pluginlibrary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-locate-buttons-on-camera" title="3.2 Locate buttons on camera" class="md-nav__link">
    3.2 Locate buttons on camera
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-open-mainactivity" title="3.3 Open MainActivity" class="md-nav__link">
    3.3 Open MainActivity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-map-takepicture-to-middle-side-button" title="3.4 Map takePicture to Middle Side Button" class="md-nav__link">
    3.4 Map takePicture to Middle Side Button
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-build-install-test" title="3.5 Build, install, test" class="md-nav__link">
    3.5 Build, install, test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-celebration-and-next-steps" title="3.6 Celebration and next steps" class="md-nav__link">
    3.6 Celebration and next steps
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/theta360developers/plugin-guide/edit/master/docs/custom.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="custom-development-tutorial">Custom Development Tutorial</h1>
<h2 id="overview">Overview</h2>
<p>Your primary way to control the camera is with the Android Camera class. Although this API was
deprecated in level 21, it still works. Make sure you use the older Camera class and not
the newer camera2 API.</p>
<p>Use the offiical Android API documentation as your main reference.</p>
<p><a href="https://developer.android.com/reference/android/hardware/Camera.html">https://developer.android.com/reference/android/hardware/Camera.html</a></p>
<p>There are a set of THETA features that are not covered by the Android 
<a href="https://developer.android.com/reference/android/hardware/Camera.html">Camera</a>
API. These are covered by using 
<a href="https://developer.android.com/reference/android/hardware/Camera.Parameters.html">Camera.Parameters</a></p>
<h2 id="1-control-camera-leds">1 Control Camera LEDs</h2>
<h3 id="11-first-steps-with-pluginlibrary">1.1 First steps with pluginlibrary</h3>
<p>Open Android Studio. Identify the available colors. In <code>pluginlibrary</code>, the LED colors are defined in <code>LedColor</code>. Open
the file to inspect the available colors.</p>
<pre><code>pluginlibrary -&gt; java -&gt; com.theta360pluginlibrary -&gt; values -&gt; LedColor
</code></pre>
<p><img alt="" src="../img/custom/led/led-colors.png" /></p>
<h3 id="12-identify-led-colors">1.2 Identify LED Colors</h3>
<p>You'll only be able to change the color for the WiFi LED on the front of the camera.  Take note of the color
you want to use. This tutorial will use MAGENTA.</p>
<pre><code>RED("red", 0b001),
GREEN("green", 0b010),
BLUE("blue", 0b100),
CYAN("cyan", 0b110),
MAGENTA("magenta", 0b101),
YELLOW("yellow", 0b011),
WHITE("white", 0b111),;
</code></pre>
<h3 id="13-identify-camera-led-targets">1.3 Identify Camera LED Targets</h3>
<p>The camera has 8 LEDs. You can control LEDs 3 through 8.
This tutorial will focus on LED3, the WiFi LED. You can try different LEDs
on your own. </p>
<p><img alt="" src="../img/custom/led-all.png" /></p>
<h3 id="14-review-led-example-in-sdk">1.4 Review LED Example in SDK.</h3>
<p>In <code>MainActivity</code>, there is an example that blinks the WiFi LED.</p>
<pre><code>app -&gt; java -&gt; com.theta360.pluginapplication -&gt; MainActivity
</code></pre>
<p><img alt="" src="../img/custom/led/mainActivity.png" /></p>
<p>Look for this code section.</p>
<pre><code>public void onKeyUp(int keyCode, KeyEvent event) {
    /**
        * You can control the LED of the camera.
        * It is possible to change the way of lighting, the cycle of blinking, the color of light emission.
        * Light emitting color can be changed only LED3.
        */
    notificationLedBlink(LedTarget.LED3, LedColor.BLUE, 1000);
</code></pre>
<p>You can change the target, color, and blink rate. The higher the number, the slower the rate.
The example below will use a delay of 300 between blinks to cause the LED to blink faster.</p>
<h3 id="15-change-led-color-and-blink-rate">1.5 Change LED color and blink rate</h3>
<p>The example below will flash LED3, the WiFi LED, faster and display
a magenta color.  Edit <code>MainActivity</code> as follows.</p>
<pre><code>    notificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);
</code></pre>
<h3 id="16-save-changes">1.6 Save changes</h3>
<p>Select <em>Save all</em> from the <em>File</em> menu. </p>
<p><img alt="" src="../img/custom/led/saveAll.png" /></p>
<h3 id="17-build-apk">1.7 Build apk</h3>
<p><img alt="" src="../img/custom/led/buildApk.png" /></p>
<h3 id="18-identify-location-of-apk">1.8 Identify location of apk</h3>
<p><img alt="" src="../img/custom/led/findApk.png" /></p>
<pre><code>theta-plugin-sdk &gt; app &gt; build &gt; outputs &gt; apk &gt; debug &gt; app-debug.apk
</code></pre>
<h3 id="19-check-installation-setup">1.9 Check installation setup</h3>
<p>We will use adb to install the apk into your THETA V. Confirm that you have the following set up:</p>
<ul>
<li>Your THETA V should be connected to your computer with a USB cable.</li>
<li>You must be using an unlocked THETA V that is in <em>Developer Mode</em></li>
<li>adb needs to be in your PATH</li>
</ul>
<p>If you are unsure about any of the steps above, refer to the previous sections. You can
also ask questions in the community at <a href="http://plugin.community.theta360.guide">http://plugin.community.theta360.guide</a>.
If you are at a workshop, please raise your hand and someone will assist you.</p>
<h3 id="110-cd-into-apk-directory">1.10 cd into apk directory</h3>
<p>Change directory into the same directory that your apk is in.</p>
<p><img alt="" src="../img/custom/led/change-directory.png" /></p>
<h3 id="111-use-adb-to-install-the-apk-into-your-camera">1.11 Use adb to install the apk into your camera</h3>
<p>In the directory that your apk is in, run the following command:</p>
<pre><code>adb install -r app-debug.apk
</code></pre>
<p>You should see  <em>Success</em>. If your daemon is not running, you will see message that it is starting.</p>
<p><img alt="" src="../img/custom/led/adb-install.png" /></p>
<h3 id="112-reboot-camera">1.12 Reboot camera</h3>
<p>Hold the camera power button down for 4 seconds to shutdown the camera. You will see red LEDs flash.
If you do not hold the power button down for 4 seconds, the camera will go into sleep mode. Once the 
camera is shutdown, turn on the camera again by pressing the power button.</p>
<h3 id="113-put-camera-into-plug-in-mode">1.13 Put camera into plug-in mode</h3>
<p>Press the mode button for longer than 2 seconds. LED2 will turn white.</p>
<h3 id="114-verify-led-is-blinking">1.14 Verify LED is blinking</h3>
<p>After placing the camera into plug-in mode, you should see LED3 blinking with a magenta color.</p>
<p><img alt="" src="../img/custom/led/magenta-led.png" /></p>
<p>Congratulations!  You've just successfully built and installed your first custom plug-in. You are now
a plug-in developer!</p>
<h3 id="115-troubleshooting">1.15 Troubleshooting</h3>
<h4 id="problem-adb-install-r-app-debugapk-hangs">Problem: <code>adb install -r app-debug.apk</code> hangs</h4>
<p>Unplug the USB cable from your computer and try again.</p>
<h4 id="problem-install-succeeds-but-nothing-happens">Problem: Install succeeds, but nothing happens</h4>
<ul>
<li>Use the RICOH mobile app or the API to verify that plugin application is selected as the active plugin</li>
<li>Use Vysor to uninstall old plug-in</li>
<li>Use Vysor to start the plug-in. Click on the plug-in icon in Vysor with the same process you would use to launch
a mobile phone app</li>
</ul>
<h2 id="2-control-led-target">2 Control LED Target</h2>
<p>In the the next example, we will blink LEDs 4, 5, 6, 7, and 8. We will not be 
controlling the color as only the color for LED3 can be controlled. </p>
<h3 id="21-edit-mainactivity-in-android-studio">2.1 Edit MainActivity in Android Studio</h3>
<p>Go back to <code>MainActivity</code>. Comment out the line for LED3 and add the following lines to test the other 
LEDs.</p>
<pre><code>notificationLedBlink(LedTarget.LED4, LedColor.BLUE, 300);
notificationLedBlink(LedTarget.LED5, LedColor.BLUE, 300);

notificationLedBlink(LedTarget.LED6, LedColor.BLUE, 300);
notificationLedBlink(LedTarget.LED7, LedColor.RED, 300);
notificationLedBlink(LedTarget.LED8, LedColor.RED, 300);
</code></pre>
<p><img alt="" src="../img/custom/led/led-4-8-code.png" /></p>
<h3 id="22-build-install-reboot">2.2 Build, Install, Reboot</h3>
<p>Follow the same process described in the section above.</p>
<ol>
<li>Build the apk from within Android Studio</li>
<li>Find the location of the APK</li>
<li>cd into that directory</li>
<li>install the apk with <code>adb install -r app-debug.apk</code></li>
<li>reboot camera</li>
</ol>
<h3 id="23-test">2.3 Test</h3>
<p>Press the lower mode button for longer than 2 seconds to put the camera into 
plug-in mode. </p>
<p>You should see all LEDs 4-8 blinking with a delay of 300ms between blinks.</p>
<p><img alt="" src="../img/custom/led/led-4-8.png" /></p>
<p>Congratulations!  You've just finished your second custom plug-in for the RICOH 
THETA V.</p>
<h2 id="3-control-camera-buttons">3 Control Camera Buttons</h2>
<p>In the next example, we'll control the buttons of the camera.</p>
<h3 id="31-inspect-pluginlibrary">3.1 Inspect pluginlibrary</h3>
<p>From inside of Android Studio, go back to pluginlibrary. It is part of the SDK.
Look for the <code>KeyReceiver</code> file.</p>
<p><img alt="" src="../img/custom/key/keyreceiver-file.png" /></p>
<p>In the KeyReceiver subclass of BroadcastReceiver, you can see that the three usable 
buttons are defined as constants.</p>
<pre><code>public class KeyReceiver extends BroadcastReceiver {
    public static final int KEYCODE_CAMERA = 27;
    public static final int KEYCODE_MEDIA_RECORD = 130;
    public static final int KEYCODE_WLAN_ON_OFF = 284;

    public static final String ACTION_KEY_DOWN = "com.theta360.plugin.ACTION_KEY_DOWN";
    public static final String ACTION_KEY_UP = "com.theta360.plugin.ACTION_KEY_UP";
    private static final String KEY_CODE = "keyCode";
    private static final String KEY_EVENT = "KeyEvent";
</code></pre>
<h3 id="32-locate-buttons-on-camera">3.2 Locate buttons on camera</h3>
<p>There are three buttons you can map:</p>
<table>
<thead>
<tr>
<th>Button Common Name</th>
<th>Name in Library</th>
<th align="center">Code</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>WiFi</td>
<td>KEYCODE_WLAN_ON_OFF</td>
<td align="center">284</td>
<td>side middle</td>
</tr>
<tr>
<td>Mode</td>
<td>KEYCODE_MEDIA_RECORD</td>
<td align="center">130</td>
<td>side bottom</td>
</tr>
<tr>
<td>Shutter</td>
<td>KEYCODE_CAMERA</td>
<td align="center">27</td>
<td>front</td>
</tr>
</tbody>
</table>
<p>Two of the buttons are on the side of the camera, below the power button. The third
button is on the front of the camera. It is the big <em>shutter</em> button.</p>
<h3 id="33-open-mainactivity">3.3 Open <code>MainActivity</code></h3>
<p>In Android Studio, go back to <code>MainActivity</code> and look for the <code>onKeyDown</code> method.</p>
<p>In <code>MainActivity.java</code>, there is an example of using the <code>keyCode</code>.</p>
<pre><code>protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    // Set a callback when a button operation event is acquired.
    setKeyCallback(new KeyCallback() {
        @Override
        public void onKeyDown(int keyCode, KeyEvent event) {
            if (keyCode == KeyReceiver.KEYCODE_CAMERA) {
                /*
                 * To take a static picture, use the takePicture method.
                 * You can receive a fileUrl of the static picture in the callback.
                 */
                new TakePictureTask(mTakePictureTaskCallback).execute();
            }
        }
</code></pre>
<h3 id="34-map-takepicture-to-middle-side-button">3.4 Map takePicture to Middle Side Button</h3>
<p>As a simple test, we will map the middle side or <em>wifi</em> button to take a picture. 
If you forget the constant name, you can use Android Studio code completion to find it.</p>
<p><img alt="" src="../img/custom/key/code-completion.png" /></p>
<h3 id="35-build-install-test">3.5 Build, install, test</h3>
<p>Follow these steps:</p>
<ol>
<li>build the apk from inside of Android Studio</li>
<li>install it with adb</li>
<li>reboot camera</li>
<li>put camera into plug-in mode</li>
<li>test it on the camera by pressing the middle button on the side of the camera</li>
</ol>
<h3 id="36-celebration-and-next-steps">3.6 Celebration and next steps</h3>
<p>Congratulations! You've successfully built three plug-ins. You can now go
back to the main Android developer documentation on the Android site to 
add in standard Android functionality. You can also  test different libraries 
for network and image processing.  The next section of this guide, 
<a href="../customtips">Custom Development Tips</a>,
will show you how to adjust the stitching of the THETA images. We'll update this
document regularly.  If you have questions, the 
<a href="https://community.theta360.guide/c/theta-api-usage/plugin">community</a> is here to help.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../vysor/" title="Using Vysor" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Using Vysor
              </span>
            </div>
          </a>
        
        
          <a href="../customtips/" title="Custom Development Tips" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Custom Development Tips
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.oppkey.com">Oppkey</a>
        and
        <a href="http://theta360.guide">
          the awesome community of developers at theta360.guide</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/theta360developers" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/theta360dev" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.facebook.com/theta360guide/" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.5165553b.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-73311422-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>