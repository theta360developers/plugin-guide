{
    "docs": [
        {
            "location": "/", 
            "text": "Ricoh THETA V Plugin Application Development - Community Guide\n\n\n\n\nBy \nCraig Oda and Jesse Casman\n of \nOppkey\n\n\nThis is a compilation of community experiences and tests from members of \ntheta360.guide\n, an\nindependent developer community for RICOH THETA cameras.  The \ncommunity-created\n document you are reading may contain factual errors. Please help the community to \nupdate this document using pull requests on \nGitHub\n.\n\n\nOfficial Ricoh Information\n\n\n\n\nPlug-in SDK\n\n\nPlug-in API\n\n\n\n\nTHETA V Plugin Application Development Overview\n\n\nThe THETA V uses Android as the operating system. Because of this, the THETA V application development process is the same as the development process for an Android phone. Connect the THETA V to a development workstation, either Mac, Windows, or Linux with a micro USB cable and connect to the camera with adb. You will need a THETA V \nthat is in developer mode. To put your THETA V into developer mode during the closed-beta period, \nplease contact jcasman@oppkey.com. He will need\nto get physical access to your camera. More\ninformation on a process to put the THETA V into developer mode remotely should be available when the \nTHETA V partner program is launched in 2018 (specific date of launch has not been announced). \n\n\nThis document covers the following development process and tips:\n\n\n\n\nRequirements\n\n\nAndroid SDK Installation and Setup\n \n\n\nRICOH THETA Plugin SDK Import\n\n\nUse adb to connect to the THETA V and install plug-in\n \n\n\nTest the plug-in\n\n\nUse Vysor to help with testing \n\n\nCustom Development\n\n\nDevelopment Workflow Tips\n\n\nConcept Ideas\n\n\nCommunity and Getting Help", 
            "title": "Overview"
        }, 
        {
            "location": "/#ricoh-theta-v-plugin-application-development-community-guide", 
            "text": "By  Craig Oda and Jesse Casman  of  Oppkey  This is a compilation of community experiences and tests from members of  theta360.guide , an\nindependent developer community for RICOH THETA cameras.  The  community-created  document you are reading may contain factual errors. Please help the community to \nupdate this document using pull requests on  GitHub .", 
            "title": "Ricoh THETA V Plugin Application Development - Community Guide"
        }, 
        {
            "location": "/#official-ricoh-information", 
            "text": "Plug-in SDK  Plug-in API", 
            "title": "Official Ricoh Information"
        }, 
        {
            "location": "/#theta-v-plugin-application-development-overview", 
            "text": "The THETA V uses Android as the operating system. Because of this, the THETA V application development process is the same as the development process for an Android phone. Connect the THETA V to a development workstation, either Mac, Windows, or Linux with a micro USB cable and connect to the camera with adb. You will need a THETA V \nthat is in developer mode. To put your THETA V into developer mode during the closed-beta period, \nplease contact jcasman@oppkey.com. He will need\nto get physical access to your camera. More\ninformation on a process to put the THETA V into developer mode remotely should be available when the \nTHETA V partner program is launched in 2018 (specific date of launch has not been announced).   This document covers the following development process and tips:   Requirements  Android SDK Installation and Setup    RICOH THETA Plugin SDK Import  Use adb to connect to the THETA V and install plug-in    Test the plug-in  Use Vysor to help with testing   Custom Development  Development Workflow Tips  Concept Ideas  Community and Getting Help", 
            "title": "THETA V Plugin Application Development Overview"
        }, 
        {
            "location": "/requirements/", 
            "text": "Requirements for Development\n\n\nRequired Hardware\n\n\n\n\nThe SDK was tested with a RICOH THETA V under the following conditions.\n\n\nCamera\n\n\nHardware\n\n\nRICOH THETA V\n\n\nFirmware\n\n\nver.2.20.1 and above\n\n\nInformation on checking and updating the firmware is \nhere\n\n\n\n\n\n\nThe camera must be unlocked and in developer mode. Contact jcasman@oppkey.com for information\non unlocking your camera.\n\n\n\n\n\n\n\n\nSoftware for Development\n\n\n\n\nDevelopment Environment\n\n\nWindows 10 Version 1709\n\n\nIn Windows 7, adb connection does not work with USB\n\n\n\n\n\n\nmacOS High Sierra ver.10.13\n\n\nDevelopment \u30fb Build environment\n\n\nAndroid Studio 3.0+\n\n\ngradle 3.0.1\n\n\nAndroid SDK (API Level 25)\n\n\ncompileSdkVersion 26\n\n\nbuildToolsVersion \"26.0.3\"\n\n\nminSdkVersion 25\n\n\ntargetSdkVersion 25", 
            "title": "Requirements"
        }, 
        {
            "location": "/requirements/#requirements-for-development", 
            "text": "", 
            "title": "Requirements for Development"
        }, 
        {
            "location": "/requirements/#required-hardware", 
            "text": "The SDK was tested with a RICOH THETA V under the following conditions.  Camera  Hardware  RICOH THETA V  Firmware  ver.2.20.1 and above  Information on checking and updating the firmware is  here    The camera must be unlocked and in developer mode. Contact jcasman@oppkey.com for information\non unlocking your camera.", 
            "title": "Required Hardware"
        }, 
        {
            "location": "/requirements/#software-for-development", 
            "text": "Development Environment  Windows 10 Version 1709  In Windows 7, adb connection does not work with USB    macOS High Sierra ver.10.13  Development \u30fb Build environment  Android Studio 3.0+  gradle 3.0.1  Android SDK (API Level 25)  compileSdkVersion 26  buildToolsVersion \"26.0.3\"  minSdkVersion 25  targetSdkVersion 25", 
            "title": "Software for Development"
        }, 
        {
            "location": "/setup/", 
            "text": "SDK Setup\n\n\nAndroid SDK Installation\n\n\nThis community guide has been tested with the Android SDK 3.0.1 and 3.1.1 on Windows 10 (1709) 64bit and Ubuntu 17.10. The process should be similar on Mac OS X.\n\n\nDownload Android Studio\n\n\nDownload Android Studio from the site below.\n\n\nhttps://developer.android.com/studio/index.html\n\n\n\n\n\n\nImport Ricoh Plugin SDK and Update Android Build System\n\n\nInstall Ricoh Plugin SDK and Update Android Build System.\n\n\n$ l\napp/          gradle/            gradlew      LICENSE.txt     README.md\nbuild.gradle  gradle.properties  gradlew.bat  pluginlibrary/  settings.gradle\n\n\n\nIf you've just installed Android Studio, you may choose Import project from the Welcome to Android Studio start up screen:\n\n\n\n\nOtherwise, use the menus. Import Project from File -\n New -\n Import Project.\n\n\n\n\n\n\nYou will see the following status bar for a few minutes.\n\n\n\n\nAfter the process completes, you will see a Windows Security Alert.\n\n\n\n\nAllow access to the OpenJDK Platform.\n\n\nYou may need to update your Build Tools or Install missing platforms and sync project. \n\n\n\n\nAccept the license terms for 26.0.3 and press Next.\n\n\n\n\nThe components will be installed for you.\n\n\n\n\nAllow Gradle enough time to resync your project.\n\n\n\n\nAlthough not necessary, I decided to update Gradle.\n\n\n\n\nYou can now inspect your Project in the navigation area.\n\n\n\n\nBuild the APK\n\n\n\n\nAt the bottom of the Android Studio window, you will see the status of the build.\n\n\n\n\nClick on the status bar to show your Event Log and locate the APK.\n\n\n\n\nLocate the file \nplugin-debug.apk\n and install it onto the THETA V", 
            "title": "Setup"
        }, 
        {
            "location": "/setup/#sdk-setup", 
            "text": "", 
            "title": "SDK Setup"
        }, 
        {
            "location": "/setup/#android-sdk-installation", 
            "text": "This community guide has been tested with the Android SDK 3.0.1 and 3.1.1 on Windows 10 (1709) 64bit and Ubuntu 17.10. The process should be similar on Mac OS X.", 
            "title": "Android SDK Installation"
        }, 
        {
            "location": "/setup/#download-android-studio", 
            "text": "Download Android Studio from the site below.  https://developer.android.com/studio/index.html", 
            "title": "Download Android Studio"
        }, 
        {
            "location": "/setup/#import-ricoh-plugin-sdk-and-update-android-build-system", 
            "text": "Install Ricoh Plugin SDK and Update Android Build System.  $ l\napp/          gradle/            gradlew      LICENSE.txt     README.md\nbuild.gradle  gradle.properties  gradlew.bat  pluginlibrary/  settings.gradle  If you've just installed Android Studio, you may choose Import project from the Welcome to Android Studio start up screen:   Otherwise, use the menus. Import Project from File -  New -  Import Project.    You will see the following status bar for a few minutes.   After the process completes, you will see a Windows Security Alert.   Allow access to the OpenJDK Platform.  You may need to update your Build Tools or Install missing platforms and sync project.    Accept the license terms for 26.0.3 and press Next.   The components will be installed for you.   Allow Gradle enough time to resync your project.   Although not necessary, I decided to update Gradle.   You can now inspect your Project in the navigation area.   Build the APK   At the bottom of the Android Studio window, you will see the status of the build.   Click on the status bar to show your Event Log and locate the APK.   Locate the file  plugin-debug.apk  and install it onto the THETA V", 
            "title": "Import Ricoh Plugin SDK and Update Android Build System"
        }, 
        {
            "location": "/use/", 
            "text": "Plugin Use\n\n\nadb\n\n\nConnect the THETA V to your developer workstation with a USB cable.\n\n\n\n\nUse adb to connect to the camera\n\n\nOn Windows, adb is installed into \n\n\nC:\\Users\\[user]\\AppData\\Local\\Android\\sdk\\platform-tools\n\n\n\n\n\nYou should add this into your PATH.  On Windows, you can edit the PATH with \nControl Panel -\n System and Security -\n System -\n Advanced system settings -\n Environment Variables -\n Path\n\n\n\n\nAfter putting adb into your \nPATH\n, start a new cmd shell and run \n\n\nadb devices -l\n\n\n\n\n\nIf you don't use \n-l\n, you can still identify the device by the serial number\nof your THETA V. In the example below, my THETA V has a serial number of 00101082.\n\n\n$ adb devices\nList of devices attached\n* daemon not running. starting it now at tcp:5037 *\n* daemon started successfully *\n00101082    device\n\n\n\nYou can log into the camera, and do an \nls\n to list all files, just like in any Android system\n\n\n$ adb shell\nmsm8953_64:/ $ ls -l                                                                                                                                                 \ntotal 4240\ndrwxrwxr-x   5 media_rw media_rw    4096 2017-01-01 00:00 DCIM\ndr-xr-xr-x  17 root     root           0 1970-04-02 10:08 acct\ndrwxr-xr-x   2 root     root          40 1970-01-01 00:00 bt_firmware                             \nlrwxrwxrwx   1 root     root          50 1970-01-01 00:00 bugreports -\n /data/user_de/0/com.android.shell/files/bugreports\ndrwxrwx---   6 system   cache       4096 2017-11-14 15:55 cache\nlrwxrwxrwx   1 root     root          13 1970-01-01 00:00 charger -\n /sbin/healthd\ndrwxr-xr-x   2 root     root           0 1970-04-02 10:08 config\nlrwxrwxrwx   1 root     root          17 1970-01-01 00:00 d -\n /sys/kernel/debug\ndrwxrwx--x  43 system   system      4096 2017-09-21 14:00 data\n-rw-r--r--   1 root     root         966 1970-01-01 00:00 default.prop\ndrwxr-xr-x  15 root     root        3180 2017-11-27 12:50 dev\ndrwxr-xr-x   3 root     root        4096 1970-01-01 00:00 dsp\n\n\n\nChange directory into DCIM. The RICOH THETA Plug-in SDK uses the\n\nandroid.hardware.Camera\n class. It saves images into the normal location you would expect from an Android device. You can also use the \nRICOH THETA API v2.1\n, which is is a WebAPI based on OSC to take pictures from your plug-in by sending a POST command to the internal camera web server.\n\n\n127|msm8953_64:/DCIM/0 $ ls -l\ntotal 128\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Alarms\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-09-22 22:31 Converted\ndrwxrwxr-x 3 media_rw media_rw  4096 2017-09-19 18:15 DCIM\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Download\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Movies\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-10-02 15:31 MtpOperation\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Music\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Notifications\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Pictures\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Podcasts\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Ringtones\n-rw-rw-r-- 1 media_rw media_rw 15972 2017-09-25 23:35 btsnoop_hci.log\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-09-21 14:26 ptp\n\n\n\nLocate pictures and movies.\n\n\nmsm8953_64:/DCIM/0/DCIM/100RICOH $\n\nmsm8953_64:/DCIM/0/DCIM/100RICOH $ ls -l                                                                                                             \ntotal 554752\n-rw-rw-r-- 1 media_rw media_rw   1970120 2017-09-28 12:58 R0010025.JPG\n-rw-rw-r-- 1 media_rw media_rw   2402374 2017-09-28 12:58 R0010026.JPG\n-rw-rw-r-- 1 media_rw media_rw   2136165 2017-09-28 12:58 R0010027.JPG\n-rw-rw-r-- 1 media_rw media_rw   2810985 2017-09-28 12:59 R0010028.JPG\n-rw-rw-r-- 1 media_rw media_rw   1834346 2017-10-18 18:34 R0010035.JPG\n-rw-rw-r-- 1 media_rw media_rw    679681 2017-10-21 12:13 R0010036.JPG\n-rw-rw-r-- 1 media_rw media_rw   2103925 2017-10-21 14:16 R0010037.JPG\n-rw-rw-r-- 1 media_rw media_rw  52108839 2017-10-21 14:19 R0010038.MP4\n-rw-rw-r-- 1 media_rw media_rw 108450224 2017-10-21 14:20 R0010039.MP4\n\n\n\nInstall Your Plugin into Camera\n\n\nUse Android Studio\nor\n\n\ncall \nadb install -r ./plugin/build/outputs/apk/debug/plugin-debug.apk\n\n\n$ adb install -r ./plugin/build/outputs/apk/debug/plugin-debug.apk \n* daemon not running. starting it now at tcp:5037 *\n* daemon started successfully *\nSuccess\n\n\n\nTesting the Sample Plugin\n\n\nDisconnect the camera from the USB cable. Press the physical button on the camera. There will be no sound,\nbut the image will be captured. \n\n\nThe picture will be given a filename that is in numerical sequential order incrementing up from the previous picture. The format will be similar to this example filename: R0010047.JPG. \n\n\nThe plug-in will save the image to a file with the location\nand format similar to the example below.\n\n\n/sdcard/DCIM/100RICOH/R0010047.JPG\n.\n\n\nTo get the file to your local computer, you can either \nuse normal MTP as you would with a normal Android \nphone or you can just download the one file with adb. If you\nuse adb pull, you can get the filename by logging into the\nshell with \nadb shell\n or you can use a tool like Vysor\nto display a virtual graphic THETA V screen to your workstation.\nRefer to the next section on Vysor.\n\n\nPut Camera into Plugin Mode\n\n\nPlugin mode can only be enabled on\nthe RICOH THETA V.\n\n\nPlugins will not work on the THETA S (older model), THETA SC or THETA m15. \n\n\nEvery THETA V can be put into plugin mode by first turning the THETA V\non and then pressing the mode button. \n\n\n\n\nAfter pressing the mode button for 2 seconds, release it.\n\n\n\n\nThe \nCamera status lamp\n will turn solid white.\n\n\n\n\nAdditional information on the side buttons is shown below.\n\n\n\n\nInformation on the front of the camera is shown below.\n\n\n\n\nSet Active Plugin\n\n\nWhen you develop the plugin application, a companion mobile application can set the active plugin using the\nWiFi API of the camera. The Ricoh mobile application that\nmost of your users will also have can set the active plugin. For\ntesting, you can either use the Ricoh mobile app, build your own mobile app, or send a REST command\nusing an HTTP testing tool such as \n\ncurl\n  or \nPostman\n. In the example below, I am using \nRestlet Client, which is a browser-based Chrome tool similar to Postman.\n\n\nI am using THETA V firmware 1.20.1. This command may change in the future.  Use com.theta360.yourappname for the packageName. Note that in the example below, my package is called pluginsample.\n\n\n\n\nThis is the POST command:\n\n\nhttp://192.168.1.1/osc/commands/execute\n\n{\n    \"name\": \"camera._setPlugin\",\n    \"parameters\": {\n        \"packageName\": \"com.theta360.pluginsample\",\n        \"boot\": \"true\",\n        \"force\": \"false\"\n    }\n}\n\n\n\nNote that the command changed in firmware 1.20.1. The command \nwas previously \ncamera._setApplication\n and is deprecated, though it \nstill works in firmware 1.20.1.\n\n\nVerify Active Plugin with Mobile App\n\n\nUsing the Ricoh mobile app, you can see and select the\nactive plugin. \n\n\nConnect your RICOH THETA mobile app to your THETA V.\n\n\nGo to Settings.\n\n\n\n\nOn the \nSettings\n screen of your mobile app, click on\n\nCamera settings\n.\n\n\n\n\nOn your \nCamera settings\n screen you will be able to see your\nPlug-in. On the screen at the top of this section, my plug-in is called\n\nPluginSample\n.\n\n\n\n\nClick on the active plug-in name to display a choice\nof available plug-ins.\n\n\n\n\nThis process is current as of version 1.17.1 of the Android application.\n\n\n\n\nShow List of Plugins With API\n\n\nThe POST command:\n\n\n$ curl -X POST 192.168.1.1/osc/commands/execute --data '{\"name\":\"camera._listPlugins\"}' -H 'content-type: application/json'\n\n\n\nThe response\n\n\n{\n\"name\":\"camera._listPlugins\",\n\"results\":{\n    \"plugins\":[\n        {\n            \"applicationName\":\"Remote Playback\",\n            \"boot\":false,\n            \"bootOptions\":\"\",\n            \"force\":false,\n            \"foreground\":false,\n            \"packageName\":\"com.theta.remoteplayback\",\n            \"running\":false,\n            \"type\":\"extended\",\n            \"version\":\"1.00.20171106144412\"\n        },\n        {\n            \"applicationName\":\"PluginSample\",\n            \"boot\":true,\n            \"force\":false,\n            \"foreground\":false,\n            \"packageName\":\"com.theta360.pluginsample\",\n            \"running\":false,\n            \"type\":\"extended\",\n            \"version\":\"1.0\"\n        }\n    ]\n},\n\"state\":\"done\"\n}\n\n\n\n\n\nNote that this command was changed from \ncamera._listApplications\n, which is now deprecated", 
            "title": "Plugin Use"
        }, 
        {
            "location": "/use/#plugin-use", 
            "text": "", 
            "title": "Plugin Use"
        }, 
        {
            "location": "/use/#adb", 
            "text": "Connect the THETA V to your developer workstation with a USB cable.   Use adb to connect to the camera  On Windows, adb is installed into   C:\\Users\\[user]\\AppData\\Local\\Android\\sdk\\platform-tools   You should add this into your PATH.  On Windows, you can edit the PATH with  Control Panel -  System and Security -  System -  Advanced system settings -  Environment Variables -  Path   After putting adb into your  PATH , start a new cmd shell and run   adb devices -l   If you don't use  -l , you can still identify the device by the serial number\nof your THETA V. In the example below, my THETA V has a serial number of 00101082.  $ adb devices\nList of devices attached\n* daemon not running. starting it now at tcp:5037 *\n* daemon started successfully *\n00101082    device  You can log into the camera, and do an  ls  to list all files, just like in any Android system  $ adb shell\nmsm8953_64:/ $ ls -l                                                                                                                                                 \ntotal 4240\ndrwxrwxr-x   5 media_rw media_rw    4096 2017-01-01 00:00 DCIM\ndr-xr-xr-x  17 root     root           0 1970-04-02 10:08 acct\ndrwxr-xr-x   2 root     root          40 1970-01-01 00:00 bt_firmware                             \nlrwxrwxrwx   1 root     root          50 1970-01-01 00:00 bugreports -  /data/user_de/0/com.android.shell/files/bugreports\ndrwxrwx---   6 system   cache       4096 2017-11-14 15:55 cache\nlrwxrwxrwx   1 root     root          13 1970-01-01 00:00 charger -  /sbin/healthd\ndrwxr-xr-x   2 root     root           0 1970-04-02 10:08 config\nlrwxrwxrwx   1 root     root          17 1970-01-01 00:00 d -  /sys/kernel/debug\ndrwxrwx--x  43 system   system      4096 2017-09-21 14:00 data\n-rw-r--r--   1 root     root         966 1970-01-01 00:00 default.prop\ndrwxr-xr-x  15 root     root        3180 2017-11-27 12:50 dev\ndrwxr-xr-x   3 root     root        4096 1970-01-01 00:00 dsp  Change directory into DCIM. The RICOH THETA Plug-in SDK uses the android.hardware.Camera  class. It saves images into the normal location you would expect from an Android device. You can also use the  RICOH THETA API v2.1 , which is is a WebAPI based on OSC to take pictures from your plug-in by sending a POST command to the internal camera web server.  127|msm8953_64:/DCIM/0 $ ls -l\ntotal 128\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Alarms\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-09-22 22:31 Converted\ndrwxrwxr-x 3 media_rw media_rw  4096 2017-09-19 18:15 DCIM\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Download\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Movies\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-10-02 15:31 MtpOperation\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Music\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Notifications\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Pictures\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Podcasts\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-01-01 00:00 Ringtones\n-rw-rw-r-- 1 media_rw media_rw 15972 2017-09-25 23:35 btsnoop_hci.log\ndrwxrwxr-x 2 media_rw media_rw  4096 2017-09-21 14:26 ptp  Locate pictures and movies.  msm8953_64:/DCIM/0/DCIM/100RICOH $\n\nmsm8953_64:/DCIM/0/DCIM/100RICOH $ ls -l                                                                                                             \ntotal 554752\n-rw-rw-r-- 1 media_rw media_rw   1970120 2017-09-28 12:58 R0010025.JPG\n-rw-rw-r-- 1 media_rw media_rw   2402374 2017-09-28 12:58 R0010026.JPG\n-rw-rw-r-- 1 media_rw media_rw   2136165 2017-09-28 12:58 R0010027.JPG\n-rw-rw-r-- 1 media_rw media_rw   2810985 2017-09-28 12:59 R0010028.JPG\n-rw-rw-r-- 1 media_rw media_rw   1834346 2017-10-18 18:34 R0010035.JPG\n-rw-rw-r-- 1 media_rw media_rw    679681 2017-10-21 12:13 R0010036.JPG\n-rw-rw-r-- 1 media_rw media_rw   2103925 2017-10-21 14:16 R0010037.JPG\n-rw-rw-r-- 1 media_rw media_rw  52108839 2017-10-21 14:19 R0010038.MP4\n-rw-rw-r-- 1 media_rw media_rw 108450224 2017-10-21 14:20 R0010039.MP4", 
            "title": "adb"
        }, 
        {
            "location": "/use/#install-your-plugin-into-camera", 
            "text": "Use Android Studio\nor  call  adb install -r ./plugin/build/outputs/apk/debug/plugin-debug.apk  $ adb install -r ./plugin/build/outputs/apk/debug/plugin-debug.apk \n* daemon not running. starting it now at tcp:5037 *\n* daemon started successfully *\nSuccess", 
            "title": "Install Your Plugin into Camera"
        }, 
        {
            "location": "/use/#testing-the-sample-plugin", 
            "text": "Disconnect the camera from the USB cable. Press the physical button on the camera. There will be no sound,\nbut the image will be captured.   The picture will be given a filename that is in numerical sequential order incrementing up from the previous picture. The format will be similar to this example filename: R0010047.JPG.   The plug-in will save the image to a file with the location\nand format similar to the example below.  /sdcard/DCIM/100RICOH/R0010047.JPG .  To get the file to your local computer, you can either \nuse normal MTP as you would with a normal Android \nphone or you can just download the one file with adb. If you\nuse adb pull, you can get the filename by logging into the\nshell with  adb shell  or you can use a tool like Vysor\nto display a virtual graphic THETA V screen to your workstation.\nRefer to the next section on Vysor.", 
            "title": "Testing the Sample Plugin"
        }, 
        {
            "location": "/use/#put-camera-into-plugin-mode", 
            "text": "Plugin mode can only be enabled on\nthe RICOH THETA V.  Plugins will not work on the THETA S (older model), THETA SC or THETA m15.   Every THETA V can be put into plugin mode by first turning the THETA V\non and then pressing the mode button.    After pressing the mode button for 2 seconds, release it.   The  Camera status lamp  will turn solid white.   Additional information on the side buttons is shown below.   Information on the front of the camera is shown below.", 
            "title": "Put Camera into Plugin Mode"
        }, 
        {
            "location": "/use/#set-active-plugin", 
            "text": "When you develop the plugin application, a companion mobile application can set the active plugin using the\nWiFi API of the camera. The Ricoh mobile application that\nmost of your users will also have can set the active plugin. For\ntesting, you can either use the Ricoh mobile app, build your own mobile app, or send a REST command\nusing an HTTP testing tool such as  curl   or  Postman . In the example below, I am using \nRestlet Client, which is a browser-based Chrome tool similar to Postman.  I am using THETA V firmware 1.20.1. This command may change in the future.  Use com.theta360.yourappname for the packageName. Note that in the example below, my package is called pluginsample.   This is the POST command:  http://192.168.1.1/osc/commands/execute\n\n{\n    \"name\": \"camera._setPlugin\",\n    \"parameters\": {\n        \"packageName\": \"com.theta360.pluginsample\",\n        \"boot\": \"true\",\n        \"force\": \"false\"\n    }\n}  Note that the command changed in firmware 1.20.1. The command \nwas previously  camera._setApplication  and is deprecated, though it \nstill works in firmware 1.20.1.", 
            "title": "Set Active Plugin"
        }, 
        {
            "location": "/use/#verify-active-plugin-with-mobile-app", 
            "text": "Using the Ricoh mobile app, you can see and select the\nactive plugin.   Connect your RICOH THETA mobile app to your THETA V.  Go to Settings.   On the  Settings  screen of your mobile app, click on Camera settings .   On your  Camera settings  screen you will be able to see your\nPlug-in. On the screen at the top of this section, my plug-in is called PluginSample .   Click on the active plug-in name to display a choice\nof available plug-ins.   This process is current as of version 1.17.1 of the Android application.", 
            "title": "Verify Active Plugin with Mobile App"
        }, 
        {
            "location": "/use/#show-list-of-plugins-with-api", 
            "text": "The POST command:  $ curl -X POST 192.168.1.1/osc/commands/execute --data '{\"name\":\"camera._listPlugins\"}' -H 'content-type: application/json'  The response  {\n\"name\":\"camera._listPlugins\",\n\"results\":{\n    \"plugins\":[\n        {\n            \"applicationName\":\"Remote Playback\",\n            \"boot\":false,\n            \"bootOptions\":\"\",\n            \"force\":false,\n            \"foreground\":false,\n            \"packageName\":\"com.theta.remoteplayback\",\n            \"running\":false,\n            \"type\":\"extended\",\n            \"version\":\"1.00.20171106144412\"\n        },\n        {\n            \"applicationName\":\"PluginSample\",\n            \"boot\":true,\n            \"force\":false,\n            \"foreground\":false,\n            \"packageName\":\"com.theta360.pluginsample\",\n            \"running\":false,\n            \"type\":\"extended\",\n            \"version\":\"1.0\"\n        }\n    ]\n},\n\"state\":\"done\"\n}   Note that this command was changed from  camera._listApplications , which is now deprecated", 
            "title": "Show List of Plugins With API"
        }, 
        {
            "location": "/vysor/", 
            "text": "Using Vysor to Help With Testing\n\n\nGo to  \nhttps://www.vysor.io/\n \nand install Vysor.\n\n\n\n\nAfter starting Vysor, you will be able to choose your device, \nRICOH THETA_V\n.  Press \nView\n.\n\n\n\n\nVysor will start up.\n\n\n\n\nClick on the home button.\n\n\n\n\nAny launcher will work. I'm using the Snapdragon Launcher.\n\n\n\n\nYou will see all the apps.\n\n\n\n\nGo to App Settings\n\n\n\n\nSet Permissions for \nStorage\n and \nCamera\n.\n\n\n\n\nLaunch App\n\n\n\n\nIn the future, your plugin can be distributed through the THETA Store, downloaded, and used by all THETA V camera end-users. They will\nbe able to install the plugin with a computer application that Ricoh will provide.\n\n\nEnd-users can choose your plugin with the official RICOH THETA mobile app or a custom application that you provide. For development, you can also select the active plug-in with the WiFi API. \n\n\nUse Vysor to Verify Plugin Installation\n\n\nYou can install multiple plugins into the THETA V. In the example below,\nI'm using Vysor to verify that I installed my new plugin \n\nConstructionPlugin\n in addition to the \nPluginSample\n I installed\nearlier.\n\n\n\n\nPrior to selecting with my new \nConstructionPlugin\n with the API, I set\nthe permissions with Vysor. Settings -\n Apps -\n YourAppName\n\n\n\n\nVerify Image File Names with Vysor\n\n\nIn order to download the picture with adb, you first need to find out the exact filename. You can use Vysor to find the filename.\n\n\nGo into File Manager\n\n\n\n\nDown into DCIM\n\n\n\n\nDown into 100RICOH\n\n\n\n\nIf you have a lot of images on the camera, you may need to scroll down to the bottom of the list.\n\n\n\n\nThere's your filename, the newest image. In this case, it's R0010047.JPG\n\n\nThen use adb pull to download the picture to your local machine   \n\n\n$ adb pull /sdcard/DCIM/100RICOH/R0010047.JPG\n/sdcard/DCIM/100RICOH/R0010047.JPG: 1 file pulled. 21.2 MB/s (2790527 bytes in 0.126s)\n\n\n\nUsing the Keyboard and Back Button on Vysor\n\n\nYou need to disable the THETA V camera process to use the keyboard and back button.\n\n\nThe video \nGetting Vysor Back Button to Work - RICOH THETA Development\n \nshows the setup process.\n\n\nThe steps are also explained below.\n\n\nConnect your THETA V to Vysor.\n\n\n\n\nExpand the apps to find your settings.\n\n\n\n\nGo into settings.\n\n\n\n\nGo to \nDeveloper options\n. You may need to \nenable developer options\n by going to \nAbout phone\n and \ntapping Build number 7 times.\n\n\n\n\nAccess \nRunning services\n.\n\n\n\n\nSelect the \nRICOH THETA V\n process.\n\n\n\n\nStop the \nCameraService\n.\n\n\n\n\nBe bold and stop the service.\n\n\n\n\nTest the keyboard.\n\n\n\n\nTest the back button.\n\n\n\n\n\n\nUsing Vysor From Linux or Other OS\n\n\nI've found the easiest way to Vysor on Linux is to use the \n\nVysor Chrome Extension\n in the Chrome web browser on Linux.\n\n\n\n\nOn Linux, you can also install Vysor as a desktop application with the information \nhere\n.\n\n\nThe basic process is shown below.\n\n\ngit clone https://github.com/koush/electron-chrome.git\ncd electron-chrome\nnpm install\n\n\n\nUsing the Chrome Store app id for Vysor:\n\n\nelectron --enable-logging . --app-id=gidgenkbbabolejbgbpnhbimgjbffefm\n\n\n\n\n\nFixing Flickering Problem on Certain NVIDIA Cards\n\n\nOn an old NVIDIA graphics card, I needed to disable flipping using the NVIDIA X Server Settings. I am using X11, not Wayland on Ubuntu 18.04.  You can check to see if you're running Wayland or X11 with this:\n\n\n$ echo $XDG_SESSION_TYPE\nx11", 
            "title": "Using Vysor"
        }, 
        {
            "location": "/vysor/#using-vysor-to-help-with-testing", 
            "text": "Go to   https://www.vysor.io/  \nand install Vysor.   After starting Vysor, you will be able to choose your device,  RICOH THETA_V .  Press  View .   Vysor will start up.   Click on the home button.   Any launcher will work. I'm using the Snapdragon Launcher.   You will see all the apps.   Go to App Settings   Set Permissions for  Storage  and  Camera .   Launch App   In the future, your plugin can be distributed through the THETA Store, downloaded, and used by all THETA V camera end-users. They will\nbe able to install the plugin with a computer application that Ricoh will provide.  End-users can choose your plugin with the official RICOH THETA mobile app or a custom application that you provide. For development, you can also select the active plug-in with the WiFi API.", 
            "title": "Using Vysor to Help With Testing"
        }, 
        {
            "location": "/vysor/#use-vysor-to-verify-plugin-installation", 
            "text": "You can install multiple plugins into the THETA V. In the example below,\nI'm using Vysor to verify that I installed my new plugin  ConstructionPlugin  in addition to the  PluginSample  I installed\nearlier.   Prior to selecting with my new  ConstructionPlugin  with the API, I set\nthe permissions with Vysor. Settings -  Apps -  YourAppName", 
            "title": "Use Vysor to Verify Plugin Installation"
        }, 
        {
            "location": "/vysor/#verify-image-file-names-with-vysor", 
            "text": "In order to download the picture with adb, you first need to find out the exact filename. You can use Vysor to find the filename.  Go into File Manager   Down into DCIM   Down into 100RICOH   If you have a lot of images on the camera, you may need to scroll down to the bottom of the list.   There's your filename, the newest image. In this case, it's R0010047.JPG  Then use adb pull to download the picture to your local machine     $ adb pull /sdcard/DCIM/100RICOH/R0010047.JPG\n/sdcard/DCIM/100RICOH/R0010047.JPG: 1 file pulled. 21.2 MB/s (2790527 bytes in 0.126s)", 
            "title": "Verify Image File Names with Vysor"
        }, 
        {
            "location": "/vysor/#using-the-keyboard-and-back-button-on-vysor", 
            "text": "You need to disable the THETA V camera process to use the keyboard and back button.  The video  Getting Vysor Back Button to Work - RICOH THETA Development  \nshows the setup process.  The steps are also explained below.  Connect your THETA V to Vysor.   Expand the apps to find your settings.   Go into settings.   Go to  Developer options . You may need to  enable developer options  by going to  About phone  and \ntapping Build number 7 times.   Access  Running services .   Select the  RICOH THETA V  process.   Stop the  CameraService .   Be bold and stop the service.   Test the keyboard.   Test the back button.", 
            "title": "Using the Keyboard and Back Button on Vysor"
        }, 
        {
            "location": "/vysor/#using-vysor-from-linux-or-other-os", 
            "text": "I've found the easiest way to Vysor on Linux is to use the  Vysor Chrome Extension  in the Chrome web browser on Linux.   On Linux, you can also install Vysor as a desktop application with the information  here .  The basic process is shown below.  git clone https://github.com/koush/electron-chrome.git\ncd electron-chrome\nnpm install  Using the Chrome Store app id for Vysor:  electron --enable-logging . --app-id=gidgenkbbabolejbgbpnhbimgjbffefm", 
            "title": "Using Vysor From Linux or Other OS"
        }, 
        {
            "location": "/vysor/#fixing-flickering-problem-on-certain-nvidia-cards", 
            "text": "On an old NVIDIA graphics card, I needed to disable flipping using the NVIDIA X Server Settings. I am using X11, not Wayland on Ubuntu 18.04.  You can check to see if you're running Wayland or X11 with this:  $ echo $XDG_SESSION_TYPE\nx11", 
            "title": "Fixing Flickering Problem on Certain NVIDIA Cards"
        }, 
        {
            "location": "/custom/", 
            "text": "Custom Development\n\n\nOverview\n\n\nYour primary way to control the camera is with the Android Camera class. Although this API was\ndeprecated in level 21, it still works. Make sure you use the older Camera class and not\nthe newer camera2 API.\n\n\nUse the offiical Android API documentation as your main reference.\n\n\nhttps://developer.android.com/reference/android/hardware/Camera.html\n\n\nThere are a set of THETA features that are not covered by the Android \n\nCamera\n\nAPI. These are covered by using \n\nCamera.Parameters\n\n\nExample:\n\n\nmParameters.set(\"RIC_PROC_STITCHING\", \"RicStaticStitching\");\nmCamera.setParameters(mParameters);\n\n\n\nHere's example of setting multiple parameters and then taking a picture.\n\n\n    public void takePicture() {\n        mParameters.setPictureSize(5376, 2688);\n        mParameters.set(\"RIC_SHOOTING_MODE\", \"RicStillCaptureStd\");\n        mParameters.set(\"RIC_EXPOSURE_MODE\", \"RicAutoExposureP\");\n        mParameters.set(\"recording-hint\", \"false\");\n        mParameters.setJpegThumbnailSize(320, 160);\n        mCamera.setParameters(mParameters);\n        mCamera.takePicture(null, null, mJpegPictureCallback);\n    }\n\n\n\nThere is extensive documentation on the \n\nRICOH Developer Connection THETA Plug-in portal\n\n\nThe plug-in SDK is a great place to get started. The SDK can be downloaded from \nGitHub\n. If\nyou have any problems \nplease send an email to jcasman@oppkey.com for\n friendly (I hope) help.  :-)\n\n\nCamera LEDs\n\n\nLED Colors\n\n\nIn \npluginlibrary\n, the LED colors are defined in \nLedColor\n.\n\n\nRED(\"red\", 0b001),\nGREEN(\"green\", 0b010),\nBLUE(\"blue\", 0b100),\nCYAN(\"cyan\", 0b110),\nMAGENTA(\"magenta\", 0b101),\nYELLOW(\"yellow\", 0b011),\nWHITE(\"white\", 0b111),;\n\n\n\nCamera LED Identification\n\n\n\n\nLED Usage Example\n\n\nIn \nMainActivity\n, there is an example for the LED.\n\n\npublic void onKeyUp(int keyCode, KeyEvent event) {\n    /**\n        * You can control the LED of the camera.\n        * It is possible to change the way of lighting, the cycle of blinking, the color of light emission.\n        * Light emitting color can be changed only LED3.\n        */\n    notificationLedBlink(LedTarget.LED3, LedColor.BLUE, 1000);\n\n\n\nChanging LED Color and Blink Rate\n\n\nThe example below will use flash LED3, the WiFi LED, faster and display\na magenta color.\n\n\n    notificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);\n\n\n\n\n\nChanging LED Target\n\n\nThe example below shows how to blink LEDs 4, 5, 6, 7, and 8. Note that the\ncolor is ignored.\n\n\nnotificationLedBlink(LedTarget.LED4, LedColor.BLUE, 300);\nnotificationLedBlink(LedTarget.LED5, LedColor.BLUE, 300);\n\nnotificationLedBlink(LedTarget.LED6, LedColor.BLUE, 300);\nnotificationLedBlink(LedTarget.LED7, LedColor.RED, 300);\nnotificationLedBlink(LedTarget.LED8, LedColor.RED, 300);\n\n\n\n\n\nCamera Buttons\n\n\nThere are three buttons you can map:\n\n\n\n\n\n\n\n\nButton Common Name\n\n\nName in Library\n\n\nCode\n\n\nLocation\n\n\n\n\n\n\n\n\n\n\nWiFi\n\n\nKEYCODE_WLAN_ON_OFF\n\n\n284\n\n\nside middle\n\n\n\n\n\n\nMode\n\n\nKEYCODE_MEDIA_RECORD\n\n\n130\n\n\nside bottom\n\n\n\n\n\n\nShutter\n\n\nKEYCODE_CAMERA\n\n\n27\n\n\nfront\n\n\n\n\n\n\n\n\nIn the pluginlibrary for the SDK, the \nKeyReceiver\n file has these values:\n\n\npublic class KeyReceiver extends BroadcastReceiver {\n    public static final int KEYCODE_CAMERA = 27;\n    public static final int KEYCODE_MEDIA_RECORD = 130;\n    public static final int KEYCODE_WLAN_ON_OFF = 284;\n\n    public static final String ACTION_KEY_DOWN = \"com.theta360.plugin.ACTION_KEY_DOWN\";\n    public static final String ACTION_KEY_UP = \"com.theta360.plugin.ACTION_KEY_UP\";\n    private static final String KEY_CODE = \"keyCode\";\n    private static final String KEY_EVENT = \"KeyEvent\";\n\n\n\nIn \nMainActivity.java\n, there is an example of using the \nkeyCode\n.\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // Set a callback when a button operation event is acquired.\n    setKeyCallback(new KeyCallback() {\n        @Override\n        public void onKeyDown(int keyCode, KeyEvent event) {\n            if (keyCode == KeyReceiver.KEYCODE_CAMERA) {\n                /*\n                 * To take a static picture, use the takePicture method.\n                 * You can receive a fileUrl of the static picture in the callback.\n                 */\n                new TakePictureTask(mTakePictureTaskCallback).execute();\n            }\n        }\n\n\n\nInternal Storage\n\n\nThe THETA V has a maximum storage size of 32GB. Developers can use 19GB  for storage of their plug-in applications and approximately 1.5GB for the plug-in itself. The partition for data is \n/data\n.\n\n\n/sdcard/DCIM/\n can be used.\n\n\nThis is an example of saving all your images to a sub-directory \nConstruction\n and then\nadding a number to the file name. There's a separate bit of code to iterate the roomNumber.\n\n\nString fileUrl = \"/storage/emulated/0/DCIM/Construction/room\" + roomNumberStr + \"sect01.jpg\";\n\n\n\nUsing the WiFi Web API\n\n\nIn addition to the Android Camera class, your plug-in can also use the \n\nRICOH THETA API v2.1\n web API. Send POST commands \nto the camera's Web API at (http://localhost:8080/). When using the Web API from the plug-in, digest authentication is not required regardless of the wireless LAN mode. For detailed specifications of the Web API, please refer to \nAPI Reference - v2.1 - API \n SDK | RICOH THETA Developers\n\n\nThe Web API can not be used when the plug-in controls the camera device using the Camera API.\n\n\nDual-Fish Still Image Example\n\n\nIf you want to save still images as dual-fisheye, use this parameter:\n\n\nmParameters.set(\"RIC_PROC_STITCHING_TYPE\", \"RicNonStitching\");\n\n\n\nThe size of the dual-fish image is 5792x2896. Use the command below:\n\n\nmParameters.setPictureSize(5792, 2896);\n\n\n\nThis article\n \nprovides more information on a plug-in built by community\ndeveloper Ichi Hirota.\n\n\nThe picture below is from Ichi Hirota.\n\n\n\n\n\n\nHere's example code from Ichi Hirota for bracketing.\n\n\n\n\nText to Speech Status\n\n\nAs of May 21, 2018, \nandroid.speech.tts\n does not work. This may\nstart working in a future update. For now, you can try other Text-Speech engines\nfor Android. A list of untested engines is \nhere\n. Another untested possibility\ncould be the \nFlite TTS Engine for Android\n.\n\n\nCurrently, human speech can be played directly from the internal speaker of \nthe THETA V. However, the volume is low. We are trying to figure out how\nto increase the volume.\n\n\nHere's a \ntest of the THETA V playing \"I Have a Dream\"\n by Dr. Martin Luther King Jr.\n\n\nXMP Data\n\n\n[UPDATED May 1, 2018] Images produced by the Plugin Application have XMP data in them. These screenshots are just looking at image properties using the GNOME Image Viewer app on an Ubuntu laptop. \n\n\nHere is an image taken with the Plugin Application, showing ProjectionType and more:\n\n\n\n\nIn comparison, here is an normal image taken at my desk, using the RICOH THETA V as a camera, not in Plug-in Mode. \n\n\n\n\nHowever, I have access to an example of a dual fish-eye image taken with a plug-in built by a developer that does not include XMP data. This may indicate that as you develop your plug-in, you may need to inject XMP data. There's an uncomfirmed rumor that Ricoh is working\non a library to help with this.\n\n\nHere's the example:", 
            "title": "Custom Development"
        }, 
        {
            "location": "/custom/#custom-development", 
            "text": "", 
            "title": "Custom Development"
        }, 
        {
            "location": "/custom/#overview", 
            "text": "Your primary way to control the camera is with the Android Camera class. Although this API was\ndeprecated in level 21, it still works. Make sure you use the older Camera class and not\nthe newer camera2 API.  Use the offiical Android API documentation as your main reference.  https://developer.android.com/reference/android/hardware/Camera.html  There are a set of THETA features that are not covered by the Android  Camera \nAPI. These are covered by using  Camera.Parameters  Example:  mParameters.set(\"RIC_PROC_STITCHING\", \"RicStaticStitching\");\nmCamera.setParameters(mParameters);  Here's example of setting multiple parameters and then taking a picture.      public void takePicture() {\n        mParameters.setPictureSize(5376, 2688);\n        mParameters.set(\"RIC_SHOOTING_MODE\", \"RicStillCaptureStd\");\n        mParameters.set(\"RIC_EXPOSURE_MODE\", \"RicAutoExposureP\");\n        mParameters.set(\"recording-hint\", \"false\");\n        mParameters.setJpegThumbnailSize(320, 160);\n        mCamera.setParameters(mParameters);\n        mCamera.takePicture(null, null, mJpegPictureCallback);\n    }  There is extensive documentation on the  RICOH Developer Connection THETA Plug-in portal  The plug-in SDK is a great place to get started. The SDK can be downloaded from  GitHub . If\nyou have any problems \nplease send an email to jcasman@oppkey.com for\n friendly (I hope) help.  :-)", 
            "title": "Overview"
        }, 
        {
            "location": "/custom/#camera-leds", 
            "text": "", 
            "title": "Camera LEDs"
        }, 
        {
            "location": "/custom/#led-colors", 
            "text": "In  pluginlibrary , the LED colors are defined in  LedColor .  RED(\"red\", 0b001),\nGREEN(\"green\", 0b010),\nBLUE(\"blue\", 0b100),\nCYAN(\"cyan\", 0b110),\nMAGENTA(\"magenta\", 0b101),\nYELLOW(\"yellow\", 0b011),\nWHITE(\"white\", 0b111),;", 
            "title": "LED Colors"
        }, 
        {
            "location": "/custom/#camera-led-identification", 
            "text": "", 
            "title": "Camera LED Identification"
        }, 
        {
            "location": "/custom/#led-usage-example", 
            "text": "In  MainActivity , there is an example for the LED.  public void onKeyUp(int keyCode, KeyEvent event) {\n    /**\n        * You can control the LED of the camera.\n        * It is possible to change the way of lighting, the cycle of blinking, the color of light emission.\n        * Light emitting color can be changed only LED3.\n        */\n    notificationLedBlink(LedTarget.LED3, LedColor.BLUE, 1000);", 
            "title": "LED Usage Example"
        }, 
        {
            "location": "/custom/#changing-led-color-and-blink-rate", 
            "text": "The example below will use flash LED3, the WiFi LED, faster and display\na magenta color.      notificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);", 
            "title": "Changing LED Color and Blink Rate"
        }, 
        {
            "location": "/custom/#changing-led-target", 
            "text": "The example below shows how to blink LEDs 4, 5, 6, 7, and 8. Note that the\ncolor is ignored.  notificationLedBlink(LedTarget.LED4, LedColor.BLUE, 300);\nnotificationLedBlink(LedTarget.LED5, LedColor.BLUE, 300);\n\nnotificationLedBlink(LedTarget.LED6, LedColor.BLUE, 300);\nnotificationLedBlink(LedTarget.LED7, LedColor.RED, 300);\nnotificationLedBlink(LedTarget.LED8, LedColor.RED, 300);", 
            "title": "Changing LED Target"
        }, 
        {
            "location": "/custom/#camera-buttons", 
            "text": "There are three buttons you can map:     Button Common Name  Name in Library  Code  Location      WiFi  KEYCODE_WLAN_ON_OFF  284  side middle    Mode  KEYCODE_MEDIA_RECORD  130  side bottom    Shutter  KEYCODE_CAMERA  27  front     In the pluginlibrary for the SDK, the  KeyReceiver  file has these values:  public class KeyReceiver extends BroadcastReceiver {\n    public static final int KEYCODE_CAMERA = 27;\n    public static final int KEYCODE_MEDIA_RECORD = 130;\n    public static final int KEYCODE_WLAN_ON_OFF = 284;\n\n    public static final String ACTION_KEY_DOWN = \"com.theta360.plugin.ACTION_KEY_DOWN\";\n    public static final String ACTION_KEY_UP = \"com.theta360.plugin.ACTION_KEY_UP\";\n    private static final String KEY_CODE = \"keyCode\";\n    private static final String KEY_EVENT = \"KeyEvent\";  In  MainActivity.java , there is an example of using the  keyCode .  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // Set a callback when a button operation event is acquired.\n    setKeyCallback(new KeyCallback() {\n        @Override\n        public void onKeyDown(int keyCode, KeyEvent event) {\n            if (keyCode == KeyReceiver.KEYCODE_CAMERA) {\n                /*\n                 * To take a static picture, use the takePicture method.\n                 * You can receive a fileUrl of the static picture in the callback.\n                 */\n                new TakePictureTask(mTakePictureTaskCallback).execute();\n            }\n        }", 
            "title": "Camera Buttons"
        }, 
        {
            "location": "/custom/#internal-storage", 
            "text": "The THETA V has a maximum storage size of 32GB. Developers can use 19GB  for storage of their plug-in applications and approximately 1.5GB for the plug-in itself. The partition for data is  /data .  /sdcard/DCIM/  can be used.  This is an example of saving all your images to a sub-directory  Construction  and then\nadding a number to the file name. There's a separate bit of code to iterate the roomNumber.  String fileUrl = \"/storage/emulated/0/DCIM/Construction/room\" + roomNumberStr + \"sect01.jpg\";", 
            "title": "Internal Storage"
        }, 
        {
            "location": "/custom/#using-the-wifi-web-api", 
            "text": "In addition to the Android Camera class, your plug-in can also use the  RICOH THETA API v2.1  web API. Send POST commands \nto the camera's Web API at (http://localhost:8080/). When using the Web API from the plug-in, digest authentication is not required regardless of the wireless LAN mode. For detailed specifications of the Web API, please refer to  API Reference - v2.1 - API   SDK | RICOH THETA Developers  The Web API can not be used when the plug-in controls the camera device using the Camera API.", 
            "title": "Using the WiFi Web API"
        }, 
        {
            "location": "/custom/#dual-fish-still-image-example", 
            "text": "If you want to save still images as dual-fisheye, use this parameter:  mParameters.set(\"RIC_PROC_STITCHING_TYPE\", \"RicNonStitching\");  The size of the dual-fish image is 5792x2896. Use the command below:  mParameters.setPictureSize(5792, 2896);  This article  \nprovides more information on a plug-in built by community\ndeveloper Ichi Hirota.  The picture below is from Ichi Hirota.    Here's example code from Ichi Hirota for bracketing.", 
            "title": "Dual-Fish Still Image Example"
        }, 
        {
            "location": "/custom/#text-to-speech-status", 
            "text": "As of May 21, 2018,  android.speech.tts  does not work. This may\nstart working in a future update. For now, you can try other Text-Speech engines\nfor Android. A list of untested engines is  here . Another untested possibility\ncould be the  Flite TTS Engine for Android .  Currently, human speech can be played directly from the internal speaker of \nthe THETA V. However, the volume is low. We are trying to figure out how\nto increase the volume.  Here's a  test of the THETA V playing \"I Have a Dream\"  by Dr. Martin Luther King Jr.", 
            "title": "Text to Speech Status"
        }, 
        {
            "location": "/custom/#xmp-data", 
            "text": "[UPDATED May 1, 2018] Images produced by the Plugin Application have XMP data in them. These screenshots are just looking at image properties using the GNOME Image Viewer app on an Ubuntu laptop.   Here is an image taken with the Plugin Application, showing ProjectionType and more:   In comparison, here is an normal image taken at my desk, using the RICOH THETA V as a camera, not in Plug-in Mode.    However, I have access to an example of a dual fish-eye image taken with a plug-in built by a developer that does not include XMP data. This may indicate that as you develop your plug-in, you may need to inject XMP data. There's an uncomfirmed rumor that Ricoh is working\non a library to help with this.  Here's the example:", 
            "title": "XMP Data"
        }, 
        {
            "location": "/configuration/", 
            "text": "Configuring Your Plug-in\n\n\nConfiguration of Plug-in With Web Server\n\n\nIf you want to configure your plug-in with an external mobile app, one strategy is to embed an HTTP server into\nyour plug-in. A simple mobile app can then talk to the plug-in through the embedded HTTP server.\nWith this configuration strategy, the plug-in can launch a web server on port 8888 that provides a WebUI or its own API. \n\n\nYou must use port 8888 on the plug-in web server, as the other ports are blocked. You can then\nbuild a basic app on a smartphone to access the \nplug-in web server on the THETA V.\n\n\nDevelopers have reported success using NanoHttpd, which is available from GitHub at \n\nhttps://github.com/NanoHttpd/nanohttpd\n.\n\n\nAnother way to access the plug-in configuration page you create is to use the OpenPluginPage API from the Ricoh v2.1 WiFi API on port 80. It will redirect to port 8888.\n\n\nInformation on the OpenPluginPage API is available here:\n\n\nhttps://developers.theta360.com/en/docs/v2.1/api_reference/protocols/open_plugin_page.html\n\n\nYour app can look for the presence or absence of the web server by using the Web API's \ncamera._listPlugins\n. The information from camera._listPlugins consists of information described in the configuration file (\\assets\\settings.json) of each plug-in. If the setting file does not exist or the setting value is incorrect, the default value is written in the camera._listPlugins information. \n\n\nSample configuration file:\n\n\n{\n \nwebServer\n: true\n}\n\n\n\n\nFrom talking with the community, we think the process is shown below.", 
            "title": "Plugin Configuration"
        }, 
        {
            "location": "/configuration/#configuring-your-plug-in", 
            "text": "", 
            "title": "Configuring Your Plug-in"
        }, 
        {
            "location": "/configuration/#configuration-of-plug-in-with-web-server", 
            "text": "If you want to configure your plug-in with an external mobile app, one strategy is to embed an HTTP server into\nyour plug-in. A simple mobile app can then talk to the plug-in through the embedded HTTP server.\nWith this configuration strategy, the plug-in can launch a web server on port 8888 that provides a WebUI or its own API.   You must use port 8888 on the plug-in web server, as the other ports are blocked. You can then\nbuild a basic app on a smartphone to access the \nplug-in web server on the THETA V.  Developers have reported success using NanoHttpd, which is available from GitHub at  https://github.com/NanoHttpd/nanohttpd .  Another way to access the plug-in configuration page you create is to use the OpenPluginPage API from the Ricoh v2.1 WiFi API on port 80. It will redirect to port 8888.  Information on the OpenPluginPage API is available here:  https://developers.theta360.com/en/docs/v2.1/api_reference/protocols/open_plugin_page.html  Your app can look for the presence or absence of the web server by using the Web API's  camera._listPlugins . The information from camera._listPlugins consists of information described in the configuration file (\\assets\\settings.json) of each plug-in. If the setting file does not exist or the setting value is incorrect, the default value is written in the camera._listPlugins information.   Sample configuration file:  {\n  webServer : true\n}  From talking with the community, we think the process is shown below.", 
            "title": "Configuration of Plug-in With Web Server"
        }, 
        {
            "location": "/workflow/", 
            "text": "Development Workflow Tips\n\n\nDebugging\n\n\nSave logcat to file on camera\n\n\nThis is a typical debugging workflow:\n\n\n\n\nEnter \nadb shell\n in terminal to enter the shell in the camera.\n\n\nlogcat \n /sdcard/DCIM/log.txt\n\n\nReproduce issue, camera may reboot.\n\n\nadb pull /sdcard/DCIM/log.txt\n in terminal \n\n\n\n\nView logcat on workstation\n\n\nFor some messages, you can also debug the THETA V with a USB \ncable and adb in real-time. The camera will \noperate in Plugin Mode while connected to adb. It's better to\nsave to save as explained above because the camera may lock or \nreboot when it encounters the bug and you'll lose the connection.\n\n\n\n\nYou will be able to get debug messages similar to the example below:\n\n\n   12-14 07:53:24.105  1171  1373 E TaskPersister: File error accessing recents directory (directory doesn't exist?).\n\n\n\nExample debug output with the camera connected to my Linux computer with a USB cable \nand in plug-in mode.\n\n\n\n\nSave HTTP Test Scripts in Separate Tool\n\n\nTo set the active plugin, you can also use the WiFi API. To use \nthe WiFi API, you must connect your \ncomputer to the THETA with WiFi. \nAlthough you can use a curl script to switch plugins with the WiFi API,\nI find it easier to use a tool like \nRestlet Client to save my HTTP test scripts into a group. I can select an\nindividual test and run it with a push of a button. To switch plugins, I \nsaved a script for  \ncamera._setPlugin\n. You can get a list of plugins with \n\ncamera._listPlugins\n.\n\n\n\n\nIn addition to saving the HTTP test scripts, Restlet Client or Postman will show the\nJSON response in \npretty\n format automatically. With curl, you will need to\npipe the output to another tool to get \npretty print\n.\n\n\n\n\nUsing Standard Android Packages\n\n\nYou can download apks from many sites for testing things like \ncommunication protocol with Facebook Messenger or video transmission.\n\n\nI've been using this site with good results.\n\n\nhttps://apkpure.com/app\n\n\nFor example, I can send 360 images directly from the THETA V storage to Facebook Messenger.\nThe images are viewable in 360 by the recipient.\n\n\n\n\nEnabling WiFi for All Apps\n\n\nWith the keyboard enabled, you can now type in your password for your WiFi hotspot to connect to the Internet.\n\n\n\n\nConnect to WiFi and all your apps and plug-ins will be able to connect to the Internet.", 
            "title": "Workflow Tips"
        }, 
        {
            "location": "/workflow/#development-workflow-tips", 
            "text": "", 
            "title": "Development Workflow Tips"
        }, 
        {
            "location": "/workflow/#debugging", 
            "text": "", 
            "title": "Debugging"
        }, 
        {
            "location": "/workflow/#save-logcat-to-file-on-camera", 
            "text": "This is a typical debugging workflow:   Enter  adb shell  in terminal to enter the shell in the camera.  logcat   /sdcard/DCIM/log.txt  Reproduce issue, camera may reboot.  adb pull /sdcard/DCIM/log.txt  in terminal", 
            "title": "Save logcat to file on camera"
        }, 
        {
            "location": "/workflow/#view-logcat-on-workstation", 
            "text": "For some messages, you can also debug the THETA V with a USB \ncable and adb in real-time. The camera will \noperate in Plugin Mode while connected to adb. It's better to\nsave to save as explained above because the camera may lock or \nreboot when it encounters the bug and you'll lose the connection.   You will be able to get debug messages similar to the example below:     12-14 07:53:24.105  1171  1373 E TaskPersister: File error accessing recents directory (directory doesn't exist?).  Example debug output with the camera connected to my Linux computer with a USB cable \nand in plug-in mode.", 
            "title": "View logcat on workstation"
        }, 
        {
            "location": "/workflow/#save-http-test-scripts-in-separate-tool", 
            "text": "To set the active plugin, you can also use the WiFi API. To use \nthe WiFi API, you must connect your \ncomputer to the THETA with WiFi. \nAlthough you can use a curl script to switch plugins with the WiFi API,\nI find it easier to use a tool like \nRestlet Client to save my HTTP test scripts into a group. I can select an\nindividual test and run it with a push of a button. To switch plugins, I \nsaved a script for   camera._setPlugin . You can get a list of plugins with  camera._listPlugins .   In addition to saving the HTTP test scripts, Restlet Client or Postman will show the\nJSON response in  pretty  format automatically. With curl, you will need to\npipe the output to another tool to get  pretty print .", 
            "title": "Save HTTP Test Scripts in Separate Tool"
        }, 
        {
            "location": "/workflow/#using-standard-android-packages", 
            "text": "You can download apks from many sites for testing things like \ncommunication protocol with Facebook Messenger or video transmission.  I've been using this site with good results.  https://apkpure.com/app  For example, I can send 360 images directly from the THETA V storage to Facebook Messenger.\nThe images are viewable in 360 by the recipient.", 
            "title": "Using Standard Android Packages"
        }, 
        {
            "location": "/workflow/#enabling-wifi-for-all-apps", 
            "text": "With the keyboard enabled, you can now type in your password for your WiFi hotspot to connect to the Internet.   Connect to WiFi and all your apps and plug-ins will be able to connect to the Internet.", 
            "title": "Enabling WiFi for All Apps"
        }, 
        {
            "location": "/troubleshoot/", 
            "text": "Troubleshooting\n\n\n\n\nForce power down\n\n\nPress WLAN + POWER buttons for 10 seconds\n\n\n\n\n\n\nWLAN reset\n\n\nPress WLAN button for 10 seconds\n\n\n\n\n\n\nShutdown versus Sleep mode\n\n\nPress and hold power button 3-4 seconds to shutdown, red LEDs will flash - Pressing power button quickly will start Sleep Mode, no LEDs", 
            "title": "Troubleshooting"
        }, 
        {
            "location": "/troubleshoot/#troubleshooting", 
            "text": "Force power down  Press WLAN + POWER buttons for 10 seconds    WLAN reset  Press WLAN button for 10 seconds    Shutdown versus Sleep mode  Press and hold power button 3-4 seconds to shutdown, red LEDs will flash - Pressing power button quickly will start Sleep Mode, no LEDs", 
            "title": "Troubleshooting"
        }, 
        {
            "location": "/hardware/", 
            "text": "Camera Hardware\n\n\n\n\nAPQ8053 (\nSnapdragon 625\n)\n\n\nCPU: Cortex A-53 x8\n\n\nGPU: Qualcomm AdrenoTM 506\n\n\n\n\n\n\n3GB LPDDR3 SDRAM, 32GB eMMC\n\n\nWLAN/BT (2 models)\n\n\n2.4GHz (1-11ch) only\n\n\n2.4GHz(1-11ch) + 5GHz(W52)\n\n\n\n\n\n\n12MP CMOS x2, 4ch MEMS microphones, 1ch speaker", 
            "title": "Camera Hardware"
        }, 
        {
            "location": "/hardware/#camera-hardware", 
            "text": "APQ8053 ( Snapdragon 625 )  CPU: Cortex A-53 x8  GPU: Qualcomm AdrenoTM 506    3GB LPDDR3 SDRAM, 32GB eMMC  WLAN/BT (2 models)  2.4GHz (1-11ch) only  2.4GHz(1-11ch) + 5GHz(W52)    12MP CMOS x2, 4ch MEMS microphones, 1ch speaker", 
            "title": "Camera Hardware"
        }, 
        {
            "location": "/fun/", 
            "text": "Fun Tests To Explore THETA V Capability\n\n\nThis section is intended to show off some functionality and tests that are a \"good start\" but maybe need more effort. It's constantly a work in progress. But hopefully it helps point you in the right direction or give you some interesting starting points to do more. \n\n\nApps\n\n\nSince you've got a full Android OS funning inside the camera, there are quite a bit of apps and utilities that are already available. This is a real strength of the camera. This video shows some GREAT tips and tricks for setting up different Android apps running inside of the THETA V in plug-in mode. In includes details on setting up Developer Mode, turning off the camera services, using Vysor and using a virtual keyboard to connect to wifi, and tons more. \n\n\n\n\nHere's a simple test after installed Facebook Messenger in a THETA V. We used Facebook Messenger to receive video and audio streams from the Internet. The video also shows the  THETA V playing music and audio from internal plug-ins.\n\n\n\n\nSound\n\n\nThe THETA has all the functionality of a normal Android system. This includes using its speakers and mics (4 total) to interact with users. It's clear that the THETA V plug-in technology can be used to provide audio prompts to users, including human voice feedback. \"Hey, THETA, take a picture now,\" for example.\n\n\nHere's a short, cool test using the internal speaker to play human speech. The audio file is single channel, 22050Hz 32-bit.", 
            "title": "Fun Tests"
        }, 
        {
            "location": "/fun/#fun-tests-to-explore-theta-v-capability", 
            "text": "This section is intended to show off some functionality and tests that are a \"good start\" but maybe need more effort. It's constantly a work in progress. But hopefully it helps point you in the right direction or give you some interesting starting points to do more.", 
            "title": "Fun Tests To Explore THETA V Capability"
        }, 
        {
            "location": "/fun/#apps", 
            "text": "Since you've got a full Android OS funning inside the camera, there are quite a bit of apps and utilities that are already available. This is a real strength of the camera. This video shows some GREAT tips and tricks for setting up different Android apps running inside of the THETA V in plug-in mode. In includes details on setting up Developer Mode, turning off the camera services, using Vysor and using a virtual keyboard to connect to wifi, and tons more.    Here's a simple test after installed Facebook Messenger in a THETA V. We used Facebook Messenger to receive video and audio streams from the Internet. The video also shows the  THETA V playing music and audio from internal plug-ins.", 
            "title": "Apps"
        }, 
        {
            "location": "/fun/#sound", 
            "text": "The THETA has all the functionality of a normal Android system. This includes using its speakers and mics (4 total) to interact with users. It's clear that the THETA V plug-in technology can be used to provide audio prompts to users, including human voice feedback. \"Hey, THETA, take a picture now,\" for example.  Here's a short, cool test using the internal speaker to play human speech. The audio file is single channel, 22050Hz 32-bit.", 
            "title": "Sound"
        }, 
        {
            "location": "/concept/", 
            "text": "Plugin Concepts from the Community\n\n\nWe are constantly working with community members to support \"ideation,\" scoping out possible plug-ins and helping define concepts. Dealing with feature requests and turning those into workable code is a process. Brainstorming, coming up with concepts, sharing them, stress-testing them, and doing this within in the community can move a concept to real code and a finish, sellable product more quickly.\n\n\nHands-Off Action Time-Lapse Concept\n\n\nThanks to \nDaniel Towersey\n from the theta360.guide community for this concept for a \"Hands-Off Action Time-Lapse\" plug-in for the THETA V to be using in paragliding. \n\n\n\n\nDescription of Requirements from Daniel:\n\n\n\n\n\n\nWe use GoPro for standard photo and video included in our package, and sell 360\u00ba photos as an optional photo package.\nI used an LG 360 cam with I st with the app for interval shooting with the app before take off, and then just needed to press the camera button in flight (on a monopod).\nI changed my LG for the Theta V due to 4k video and much superior seaming of the images, but unfortunately found out that for interval shooting I need to press the button on the app, not the camera, with is a pain\u2026 other pilots use the wired ca-3 remote shutter with is also clumsy\u2026\nCan\u2019t get my head around the fact that the Theta doesn\u2019t have a wireless remote shutter, and the camera button will only take still images even though it is set for interval shooting through the control app\u2026\n\n\n\n\n\n\nAnd there are users waiting to get their hands on an app like this:\n\n\n\n\n\n\nHere at our paragliding site alone there must be about 30 to 50 Theta users awaiting such an update, or even better, a wireless remote shutter to substitute the ca-3 cable remote\u2026\n\n\n\n\n\n\n\n\nTo build this plug-in, here's a possible Project Requirements\n\n\n\n\nPlug-in inside of camera handles timelapse\n\n\nShutter button starts/stops timelapse\n\n\nWhite LED above shutter button indicates that it is in plug-in mode\n\n\nMagenta WiFi LED below shutter button flashing indicates that timelapse is activated\n\n\nRate of flashing provides a clue as to current setting\n\n\nButton side button (mode) cycles through pre-set settings\n\n\nCompanion mobile app is used to configure timelapse settings and store them into camera\n\n\n\n\nSome more thoughts from Craig (\n@codetricity\n) about \npossible alternatives to this project using hardware to trigger the timelapse with WiFi or Bluetooth are \nhere\n. \nRight now, it looks like the best way to approach the project with with software only and avoid the need to\nmanufacture or buy a wireless remote. Scroll up to get the full original discussion.\n\n\nThink you could build this? :-)\n\n\nExample Construction Concept\n\n\nI created a new plugin called \nConstructionPlugin\n to\nreduce the time taken to take hundreds of images at construction sites.\n\n\nThe idea is to use a separate application to create a route of rooms.\nThe plugin then saves unique files names for each room.\n\n\n\n\nAs a first step, the plugin saves the construction images\nwith a file name prefaced by \nconstruction\n.\n\n\n\n\nI then created a directory called \nConstruction\n to store\nall my construction pictures for business \nseparately from the normal camera pictures stored in \n100RICOH\n.\nI am using a more scalable naming convention of the form\n \nroom01sect01.jpg\n.\n\n\nIn \nMainFragment.java\n, I changed the file save location.\n\n\nprivate Camera.PictureCallback mJpegPictureCallback = new Camera.PictureCallback() {\n    @Override\n    public void onPictureTaken(byte[] data, Camera camera) {\n        mParameters.set(\"RIC_PROC_STITCHING\", \"RicStaticStitching\");\n        mCamera.setParameters(mParameters);\n        mCamera.stopPreview();\n\n        String fileUrl = \"/storage/emulated/0/DCIM/Construction/room01sect01.jpg\";\n        try (FileOutputStream fileOutputStream = new FileOutputStream(fileUrl)) {\n            fileOutputStream.write(data);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        mCamera.startPreview();\n    }\n};\n\n\n\nUsing \nadb shell\n, I can log into the camera and make sure that it's saving the file in the correct filename format and directory. On the camera, you can access it in \n/mnt/sdcard/DCIM/Construction/\n\n\n\n\nBack on my workstation, I can copy all the construction images from the camera to my workstation with:\n\n\n$ adb pull /sdcard/DCIM/Construction/\n\n\n\n\n\nIn this test, transferring 13 images took 1.9 seconds using a USB cable. \nThe files total 42 MB. Each image has a resolution of 5376x2896.\n\nOnce I have the image on my workstation, I can then open the image up in a file browser to\nsee it in equirectangular format.\n\n\n\n\n\n\nMy code snippet now looks like this:\n\n\nif (roomNumber \n 9)\n{\n    roomNumberStr = Integer.toString(roomNumber);\n} else {\n    roomNumberStr = \"0\" + Integer.toString(roomNumber);\n\n}\n\n\nString fileUrl = \"/storage/emulated/0/DCIM/Construction/room\" + roomNumberStr + \"sect01.jpg\";\ntry (FileOutputStream fileOutputStream = new FileOutputStream(fileUrl)) {\n    fileOutputStream.write(data);\n    roomNumber = roomNumber + 1;\n\n\n\nIR Controller Concept\n\n\nThis is a concept to control timelapse from a paraglider or other 360 action situation.\n\n\nComponents\n\n\n\n\nFLIRC IR receiver $22\n\n\nUSB OTG adapter (maybe $7 on eBay if user does not already have one?)\n\n\nExisting IR remote you have around the house\n\n\n1/4\" by 20 tpi stud and nut to attach to bracket on paraglider\n\n\n\n\n\n\nAssembly\n\n\n\n\nPrototype Case\n\n\nThis is a prototype neoprene case that holds the components against the stud. Case objectives:\n\n\n\n\nprevent IR receiver from moving in the wind or through action sport movement\n\n\nsecure components to solid base to prevent accidental detachment and loss while in-flight\n\n\neasy removal from camera with velcro tabs\n\n\n\n\n\n\nMounting\n\n\nThe accessory can be mounted on any standard 1/4\" tripod mount or bracket.\n\n\n\n\nMounting the base of the accessory to the bracket will attach both the camera and IR receiver with a solid metal bolt.\n\n\nConfiguring IR Controller\n\n\nThe FLIRC desktop software is used one-time to map the buttons on the IR controller to Android keycodes. The mapping is saved to FLIRC and is retained when power is off.\n\n\n\n\n\n\nConfiguring Camera\n\n\nAs the camera only has basic LEDs to display output, I suggest saving settings ahead of time into the camera with a mobile phone. With the mobile phone or desktop computer, the user can save three different timelapse configurations to the camera prior to the shoot.\n\n\nExample Operation\n\n\nAssuming we keep the operation simple and use only two buttons on the IR controller:\n\n\nUse\n\n\n\n\npress play once to start timelapse\n\n\nflash WiFi LED in magenta to indicate operation. Rate of blinking indicates delay\n\n\npress play again to stop timelapse\n\n\nturn off LED\n\n\n\n\nOn-site configuration\n\n\n\n\npress right arrow to move from default timelapse to longer delay\n\n\nLED blink rate indicates current delay\n\n\npress right arrow again to move to next preset delay, making the delay longer\n\n\npress right arrow again to cycle back to default timelapse delay\n\n\n\n\nCode (Not Implemented)\n\n\nThis is only a concept. I have not attempted to build the plug-in.\n\n\nIR Remote Button Press\n\n\nThe first step is to modify the 'KEYCODE_CAMERA' below to a key from Android using this reference:\nhttps://developer.android.com/reference/android/view/KeyEvent\n\n\nFor example, changing it to 'KEYCODE_T' and checking to see if it can take the keyCode from the IR. I\u2019d like to first plug a normal USB computer keyboard into the THETA with USB OTG and see if I can trigger the shutter by pressing T. Then, I can try the remote.\n\n\npublic void onKeyDown(int keyCode, KeyEvent event) {\n            if (keyCode == KeyReceiver.KEYCODE_CAMERA) {\n                customShutter(m_is_bracket);\n                if(m_is_bracket){\n                    notificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);\n\n\n\nTaking Picture\n\n\nWe can use the standard RICOH SDK code to take the picture. We just need to set up a variable delay between pictures.\n\n\nintent = new Intent(\"com.theta360.plugin.ACTION_AUDIO_SHUTTER\");\nsendBroadcast(intent);\nmCamera.takePicture(null,null, null, pictureListener);\n\n\n\nLED Indicator\n\n\nWe can use the standard RICOH code to control the feedback from the LED.\n\n\nnotificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);\n\n\n\nPlug-in Concepts from RICOH", 
            "title": "Concept Ideas"
        }, 
        {
            "location": "/concept/#plugin-concepts-from-the-community", 
            "text": "We are constantly working with community members to support \"ideation,\" scoping out possible plug-ins and helping define concepts. Dealing with feature requests and turning those into workable code is a process. Brainstorming, coming up with concepts, sharing them, stress-testing them, and doing this within in the community can move a concept to real code and a finish, sellable product more quickly.", 
            "title": "Plugin Concepts from the Community"
        }, 
        {
            "location": "/concept/#hands-off-action-time-lapse-concept", 
            "text": "Thanks to  Daniel Towersey  from the theta360.guide community for this concept for a \"Hands-Off Action Time-Lapse\" plug-in for the THETA V to be using in paragliding.", 
            "title": "Hands-Off Action Time-Lapse Concept"
        }, 
        {
            "location": "/concept/#description-of-requirements-from-daniel", 
            "text": "We use GoPro for standard photo and video included in our package, and sell 360\u00ba photos as an optional photo package.\nI used an LG 360 cam with I st with the app for interval shooting with the app before take off, and then just needed to press the camera button in flight (on a monopod).\nI changed my LG for the Theta V due to 4k video and much superior seaming of the images, but unfortunately found out that for interval shooting I need to press the button on the app, not the camera, with is a pain\u2026 other pilots use the wired ca-3 remote shutter with is also clumsy\u2026\nCan\u2019t get my head around the fact that the Theta doesn\u2019t have a wireless remote shutter, and the camera button will only take still images even though it is set for interval shooting through the control app\u2026    And there are users waiting to get their hands on an app like this:    Here at our paragliding site alone there must be about 30 to 50 Theta users awaiting such an update, or even better, a wireless remote shutter to substitute the ca-3 cable remote\u2026", 
            "title": "Description of Requirements from Daniel:"
        }, 
        {
            "location": "/concept/#to-build-this-plug-in-heres-a-possible-project-requirements", 
            "text": "Plug-in inside of camera handles timelapse  Shutter button starts/stops timelapse  White LED above shutter button indicates that it is in plug-in mode  Magenta WiFi LED below shutter button flashing indicates that timelapse is activated  Rate of flashing provides a clue as to current setting  Button side button (mode) cycles through pre-set settings  Companion mobile app is used to configure timelapse settings and store them into camera   Some more thoughts from Craig ( @codetricity ) about \npossible alternatives to this project using hardware to trigger the timelapse with WiFi or Bluetooth are  here . \nRight now, it looks like the best way to approach the project with with software only and avoid the need to\nmanufacture or buy a wireless remote. Scroll up to get the full original discussion.  Think you could build this? :-)", 
            "title": "To build this plug-in, here's a possible Project Requirements"
        }, 
        {
            "location": "/concept/#example-construction-concept", 
            "text": "I created a new plugin called  ConstructionPlugin  to\nreduce the time taken to take hundreds of images at construction sites.  The idea is to use a separate application to create a route of rooms.\nThe plugin then saves unique files names for each room.   As a first step, the plugin saves the construction images\nwith a file name prefaced by  construction .   I then created a directory called  Construction  to store\nall my construction pictures for business \nseparately from the normal camera pictures stored in  100RICOH .\nI am using a more scalable naming convention of the form\n  room01sect01.jpg .  In  MainFragment.java , I changed the file save location.  private Camera.PictureCallback mJpegPictureCallback = new Camera.PictureCallback() {\n    @Override\n    public void onPictureTaken(byte[] data, Camera camera) {\n        mParameters.set(\"RIC_PROC_STITCHING\", \"RicStaticStitching\");\n        mCamera.setParameters(mParameters);\n        mCamera.stopPreview();\n\n        String fileUrl = \"/storage/emulated/0/DCIM/Construction/room01sect01.jpg\";\n        try (FileOutputStream fileOutputStream = new FileOutputStream(fileUrl)) {\n            fileOutputStream.write(data);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        mCamera.startPreview();\n    }\n};  Using  adb shell , I can log into the camera and make sure that it's saving the file in the correct filename format and directory. On the camera, you can access it in  /mnt/sdcard/DCIM/Construction/   Back on my workstation, I can copy all the construction images from the camera to my workstation with:  $ adb pull /sdcard/DCIM/Construction/   In this test, transferring 13 images took 1.9 seconds using a USB cable. \nThe files total 42 MB. Each image has a resolution of 5376x2896. \nOnce I have the image on my workstation, I can then open the image up in a file browser to\nsee it in equirectangular format.    My code snippet now looks like this:  if (roomNumber   9)\n{\n    roomNumberStr = Integer.toString(roomNumber);\n} else {\n    roomNumberStr = \"0\" + Integer.toString(roomNumber);\n\n}\n\n\nString fileUrl = \"/storage/emulated/0/DCIM/Construction/room\" + roomNumberStr + \"sect01.jpg\";\ntry (FileOutputStream fileOutputStream = new FileOutputStream(fileUrl)) {\n    fileOutputStream.write(data);\n    roomNumber = roomNumber + 1;", 
            "title": "Example Construction Concept"
        }, 
        {
            "location": "/concept/#ir-controller-concept", 
            "text": "This is a concept to control timelapse from a paraglider or other 360 action situation.", 
            "title": "IR Controller Concept"
        }, 
        {
            "location": "/concept/#components", 
            "text": "FLIRC IR receiver $22  USB OTG adapter (maybe $7 on eBay if user does not already have one?)  Existing IR remote you have around the house  1/4\" by 20 tpi stud and nut to attach to bracket on paraglider", 
            "title": "Components"
        }, 
        {
            "location": "/concept/#assembly", 
            "text": "", 
            "title": "Assembly"
        }, 
        {
            "location": "/concept/#prototype-case", 
            "text": "This is a prototype neoprene case that holds the components against the stud. Case objectives:   prevent IR receiver from moving in the wind or through action sport movement  secure components to solid base to prevent accidental detachment and loss while in-flight  easy removal from camera with velcro tabs", 
            "title": "Prototype Case"
        }, 
        {
            "location": "/concept/#mounting", 
            "text": "The accessory can be mounted on any standard 1/4\" tripod mount or bracket.   Mounting the base of the accessory to the bracket will attach both the camera and IR receiver with a solid metal bolt.", 
            "title": "Mounting"
        }, 
        {
            "location": "/concept/#configuring-ir-controller", 
            "text": "The FLIRC desktop software is used one-time to map the buttons on the IR controller to Android keycodes. The mapping is saved to FLIRC and is retained when power is off.", 
            "title": "Configuring IR Controller"
        }, 
        {
            "location": "/concept/#configuring-camera", 
            "text": "As the camera only has basic LEDs to display output, I suggest saving settings ahead of time into the camera with a mobile phone. With the mobile phone or desktop computer, the user can save three different timelapse configurations to the camera prior to the shoot.", 
            "title": "Configuring Camera"
        }, 
        {
            "location": "/concept/#example-operation", 
            "text": "Assuming we keep the operation simple and use only two buttons on the IR controller:", 
            "title": "Example Operation"
        }, 
        {
            "location": "/concept/#use", 
            "text": "press play once to start timelapse  flash WiFi LED in magenta to indicate operation. Rate of blinking indicates delay  press play again to stop timelapse  turn off LED", 
            "title": "Use"
        }, 
        {
            "location": "/concept/#on-site-configuration", 
            "text": "press right arrow to move from default timelapse to longer delay  LED blink rate indicates current delay  press right arrow again to move to next preset delay, making the delay longer  press right arrow again to cycle back to default timelapse delay", 
            "title": "On-site configuration"
        }, 
        {
            "location": "/concept/#code-not-implemented", 
            "text": "This is only a concept. I have not attempted to build the plug-in.", 
            "title": "Code (Not Implemented)"
        }, 
        {
            "location": "/concept/#ir-remote-button-press", 
            "text": "The first step is to modify the 'KEYCODE_CAMERA' below to a key from Android using this reference:\nhttps://developer.android.com/reference/android/view/KeyEvent  For example, changing it to 'KEYCODE_T' and checking to see if it can take the keyCode from the IR. I\u2019d like to first plug a normal USB computer keyboard into the THETA with USB OTG and see if I can trigger the shutter by pressing T. Then, I can try the remote.  public void onKeyDown(int keyCode, KeyEvent event) {\n            if (keyCode == KeyReceiver.KEYCODE_CAMERA) {\n                customShutter(m_is_bracket);\n                if(m_is_bracket){\n                    notificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);", 
            "title": "IR Remote Button Press"
        }, 
        {
            "location": "/concept/#taking-picture", 
            "text": "We can use the standard RICOH SDK code to take the picture. We just need to set up a variable delay between pictures.  intent = new Intent(\"com.theta360.plugin.ACTION_AUDIO_SHUTTER\");\nsendBroadcast(intent);\nmCamera.takePicture(null,null, null, pictureListener);", 
            "title": "Taking Picture"
        }, 
        {
            "location": "/concept/#led-indicator", 
            "text": "We can use the standard RICOH code to control the feedback from the LED.  notificationLedBlink(LedTarget.LED3, LedColor.MAGENTA, 300);", 
            "title": "LED Indicator"
        }, 
        {
            "location": "/concept/#plug-in-concepts-from-ricoh", 
            "text": "", 
            "title": "Plug-in Concepts from RICOH"
        }, 
        {
            "location": "/community/", 
            "text": "Community\n\n\nThere is a very active and fun community around the RICOH THETA V development. Check out \n\ntheta360.guide\n now.\n\n\ncommunity.theta360.guide\n\n\nThe main hub THETA developer discussion is the independent developer community at \ncommunity.theta360.guide\n. There are more than\na 1,000 registered THETA developers on the community\nsite viewing 70,000 pages a month. You do not need to register to read the content, but it would be great if\nyou signed for free and asked a question or shared some information.\n\n\nWe want to hear from you!\n\n\n\n\n\n\nHow to Ask a Question\n\n\nPublic Question\n\n\nGo to the \nTHETA API Usage conference\n.\n\n\nClick on New Topic.\n\n\n\n\nWrite the title of your question and the details in the body.\n\n\n\n\nIf you are new to the community, your question will need to get approved for the first post only.\n\n\nPrivate Question\n\n\nYou can message us directly on https://community.theta360.guide. Or you can send email to jcasman@oppkey.com.\n\n\nEvents, Meetups and Workshops\n\n\nA number of workshops are planned to cover different aspects of plug-in development. We also hold physical and online meetings to explore the booming business around applications for 360 cameras. Here are some of the upcoming events for developers:\n\n\n\n\nVRLA (May 4-5, Los Angeles, CA)\n\n\nDeveloperWeek (June 18-20, New York City, NY)\n\n\nTechCrunch DISRUPT (Sept 5-7, San Francisco, CA)\n\n\n\n\n\n\nThe \nRICOH THETA Developers SF Bay Area Meetup Group\n is the \nmost active.\n\n\nMarketing and Sales Questions\n\n\nIf you have questions about marketing and selling your application, Jesse Casman can relay your question to the appropriate people at Ricoh.  He can also help you get your app onto the THETA Plug-in store and provide \ninformation on the process to get your plug-in showcased as a featured app.", 
            "title": "Community"
        }, 
        {
            "location": "/community/#community", 
            "text": "There is a very active and fun community around the RICOH THETA V development. Check out  theta360.guide  now.", 
            "title": "Community"
        }, 
        {
            "location": "/community/#communitytheta360guide", 
            "text": "The main hub THETA developer discussion is the independent developer community at  community.theta360.guide . There are more than\na 1,000 registered THETA developers on the community\nsite viewing 70,000 pages a month. You do not need to register to read the content, but it would be great if\nyou signed for free and asked a question or shared some information.  We want to hear from you!", 
            "title": "community.theta360.guide"
        }, 
        {
            "location": "/community/#how-to-ask-a-question", 
            "text": "", 
            "title": "How to Ask a Question"
        }, 
        {
            "location": "/community/#public-question", 
            "text": "Go to the  THETA API Usage conference .  Click on New Topic.   Write the title of your question and the details in the body.   If you are new to the community, your question will need to get approved for the first post only.", 
            "title": "Public Question"
        }, 
        {
            "location": "/community/#private-question", 
            "text": "You can message us directly on https://community.theta360.guide. Or you can send email to jcasman@oppkey.com.", 
            "title": "Private Question"
        }, 
        {
            "location": "/community/#events-meetups-and-workshops", 
            "text": "A number of workshops are planned to cover different aspects of plug-in development. We also hold physical and online meetings to explore the booming business around applications for 360 cameras. Here are some of the upcoming events for developers:   VRLA (May 4-5, Los Angeles, CA)  DeveloperWeek (June 18-20, New York City, NY)  TechCrunch DISRUPT (Sept 5-7, San Francisco, CA)    The  RICOH THETA Developers SF Bay Area Meetup Group  is the \nmost active.", 
            "title": "Events, Meetups and Workshops"
        }, 
        {
            "location": "/community/#marketing-and-sales-questions", 
            "text": "If you have questions about marketing and selling your application, Jesse Casman can relay your question to the appropriate people at Ricoh.  He can also help you get your app onto the THETA Plug-in store and provide \ninformation on the process to get your plug-in showcased as a featured app.", 
            "title": "Marketing and Sales Questions"
        }, 
        {
            "location": "/about/", 
            "text": "About The Plug-in Community Guide\n\n\nThis document started as an internal document that Craig Oda wrote \nto help Jesse Casman with meetings at CES 2018 in Las Vegas.  Craig\nand Jesse found \nout that Ricoh was planning to announce a radical, new strategy for \n360 cameras. In January of 2018, Ricoh announced plans to open \nup the internal Android operating system\nto external developers.\n\n\nWe immediately saw the potential to change how people approached VR \nand AR.  \n\n\nAt CES, we gained access to unlocked THETA V cameras under the\nclosed beta program that Ricoh offered developers. As we worked\nwith the community on building applications, this document grew.\n\n\n\n\nCraig\n\n\nAfter growing up in the US, I started my career in Tokyo, where I was part of the\ncore team that developed the first public-access Internet system in Asia.\nI co-founded the Tokyo Linux Users Group, served as first president, and co-authored a book\nfor O'Reilly Japan on adding Japanese language support to Linux. After selling my Internet business\nto a large US firm, I moved to the US to start the US office of a Linux company and helped\nto raise $96M in venture funding. I stayed in Palo Alto and continue to work with cool\ntechnology companies changing the world.\n\n\nVR is not new, but the business opportunities for VR are new, enabled by cheaper and\nbetter technology. Although there's buzz about the entertainment potential of VR, the main\nopportunity may be in how people communicate large amounts of visual and auditory data\nwith each other. We are overwhelmed by media. We need interactive ways\nto assess and focus in on the details that are meaningful. 360 media offers a way to\ncapture and work with large amounts of information. Join us as we navigate, define, and build\nthis new paradigm.\n\n\n\n\nJesse\n\n\nHello from San Francisco! This is Jesse (jcasman@oppkey.com), I've been working with Craig on the theta360.guide since 2015. We build projects and tutorials, connect with developers like you, and try to have a good time while we're doing it. Part of that is building usable documentation like this THETA V Plugin Development Community Guide! The Guide is constantly being updated as we test more and learn more. If you notice something that could be fixed or added, we'd love to hear from you. It's a community effort! The RICOH THETA is an extremely cool platform for development, with potential in so many different industries. If you're doing something in 360, let us know, and maybe consider adding it here to help out others.", 
            "title": "About"
        }, 
        {
            "location": "/about/#about-the-plug-in-community-guide", 
            "text": "This document started as an internal document that Craig Oda wrote \nto help Jesse Casman with meetings at CES 2018 in Las Vegas.  Craig\nand Jesse found \nout that Ricoh was planning to announce a radical, new strategy for \n360 cameras. In January of 2018, Ricoh announced plans to open \nup the internal Android operating system\nto external developers.  We immediately saw the potential to change how people approached VR \nand AR.    At CES, we gained access to unlocked THETA V cameras under the\nclosed beta program that Ricoh offered developers. As we worked\nwith the community on building applications, this document grew.", 
            "title": "About The Plug-in Community Guide"
        }, 
        {
            "location": "/about/#craig", 
            "text": "After growing up in the US, I started my career in Tokyo, where I was part of the\ncore team that developed the first public-access Internet system in Asia.\nI co-founded the Tokyo Linux Users Group, served as first president, and co-authored a book\nfor O'Reilly Japan on adding Japanese language support to Linux. After selling my Internet business\nto a large US firm, I moved to the US to start the US office of a Linux company and helped\nto raise $96M in venture funding. I stayed in Palo Alto and continue to work with cool\ntechnology companies changing the world.  VR is not new, but the business opportunities for VR are new, enabled by cheaper and\nbetter technology. Although there's buzz about the entertainment potential of VR, the main\nopportunity may be in how people communicate large amounts of visual and auditory data\nwith each other. We are overwhelmed by media. We need interactive ways\nto assess and focus in on the details that are meaningful. 360 media offers a way to\ncapture and work with large amounts of information. Join us as we navigate, define, and build\nthis new paradigm.", 
            "title": "Craig"
        }, 
        {
            "location": "/about/#jesse", 
            "text": "Hello from San Francisco! This is Jesse (jcasman@oppkey.com), I've been working with Craig on the theta360.guide since 2015. We build projects and tutorials, connect with developers like you, and try to have a good time while we're doing it. Part of that is building usable documentation like this THETA V Plugin Development Community Guide! The Guide is constantly being updated as we test more and learn more. If you notice something that could be fixed or added, we'd love to hear from you. It's a community effort! The RICOH THETA is an extremely cool platform for development, with potential in so many different industries. If you're doing something in 360, let us know, and maybe consider adding it here to help out others.", 
            "title": "Jesse"
        }
    ]
}